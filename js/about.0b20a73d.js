"use strict";(self["webpackChunkrestaurante_front"]=self["webpackChunkrestaurante_front"]||[]).push([[443],{5521:function(a,e,t){t.d(e,{_z:function(){return i},c1:function(){return l},eh:function(){return s},hM:function(){return n},rn:function(){return u},vR:function(){return r}});var o=t(3190);function r(a){return(0,o.d)().get("verify/listarCajas?page="+(a.page+1)+"&rows="+a.rows)}function n(a){return(0,o.d)().get("verify/listarMovimientos?Caja="+a)}function l(){return(0,o.d)().post("verify/buscarCaja")}function i(a){return(0,o.d)().post("verify/ingresoSalidaCaja",{Caja:a.id,Tipo:a.tipo,Monto:a.monto,Observacion:a.observacion})}function s(a){return(0,o.d)().post("verify/aperturaCaja",{Inicio:a.monto,Observacion:a.observacion})}function u(a){return(0,o.d)().post("verify/cierreCaja",{ID:a.id,Observacion:a.observacion})}},8067:function(a,e,t){t.r(e),t.d(e,{default:function(){return c}});var o=t(3396);const r={class:"card"},n=(0,o._)("h1",null,"This is an about page",-1),l=[n];function i(a,e){return(0,o.wg)(),(0,o.iD)("div",r,l)}var s=t(89);const u={},d=(0,s.Z)(u,[["render",i]]);var c=d},4528:function(a,e,t){t.r(e),t.d(e,{default:function(){return M}});var o=t(3396),r=t(7139);const n={class:"card"},l={class:"p-fluid grid p-4"},i={key:0,class:"field col-12 md:col-12"},s={class:"p-float-label"},u=(0,o._)("label",{for:"inputtext",autofocus:""},"Monto",-1),d={class:"field col-12 md:col-12"},c={class:"p-float-label"},p=(0,o._)("label",{for:"textarea"},"Observacion",-1),v={key:0,style:{color:"darkgreen"}},b=(0,o._)("b",null," Abierto ",-1),m=[b],C={key:1,style:{color:"crimson"}},f=(0,o._)("b",null," Cerrado ",-1),w=[f];function y(a,e,t,b,f,y){const g=(0,o.up)("Toast"),k=(0,o.up)("Button"),h=(0,o.up)("Toolbar"),_=(0,o.up)("InputNumber"),j=(0,o.up)("Textarea"),D=(0,o.up)("Dialog"),A=(0,o.up)("Column"),I=(0,o.up)("DataTable"),M=(0,o.Q2)("tooltip");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o.Wm)(g),(0,o.Wm)(h,{class:"mb-4"},{start:(0,o.w5)((()=>[(0,o.Wm)(k,{label:"Nueva Caja",icon:"pi pi-external-link",onClick:e[0]||(e[0]=a=>b.abrirModal())})])),_:1}),(0,o.Wm)(D,{header:b.header,visible:b.cajaModal,"onUpdate:visible":e[6]||(e[6]=a=>b.cajaModal=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"},modal:!0},{footer:(0,o.w5)((()=>[(0,o.Wm)(k,{label:"Cerrar",icon:"pi pi-times",onClick:b.cerrarModal,class:"p-button-danger p-button-text"},null,8,["onClick"]),1==b.btnCerrar?((0,o.wg)(),(0,o.j4)(k,{key:0,label:"Guardar",icon:"pi pi-check",class:"p-button-primary p-button-text",onClick:e[3]||(e[3]=a=>b.apertura())})):2==b.btnCerrar?((0,o.wg)(),(0,o.j4)(k,{key:1,label:"Aceptar",icon:"pi pi-check",class:"p-button-warning p-button-text",onClick:e[4]||(e[4]=a=>b.cierre())})):3==b.btnCerrar?((0,o.wg)(),(0,o.j4)(k,{key:2,label:"Ok",icon:"pi pi-check",class:"p-button-primary p-button-text",onClick:e[5]||(e[5]=a=>b.ingresoSalida())})):(0,o.kq)("",!0)])),default:(0,o.w5)((()=>[(0,o._)("div",l,[2!=b.btnCerrar?((0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("span",s,[(0,o.Wm)(_,{id:"inputtext",type:"text",mode:"currency",currency:"BOB",locale:"es-BO",modelValue:b.datosCaja.monto,"onUpdate:modelValue":e[1]||(e[1]=a=>b.datosCaja.monto=a)},null,8,["modelValue"]),u])])):(0,o.kq)("",!0),(0,o._)("div",d,[(0,o._)("span",c,[(0,o.Wm)(j,{id:"textarea",rows:"3",modelValue:b.datosCaja.observacion,"onUpdate:modelValue":e[2]||(e[2]=a=>b.datosCaja.observacion=a)},null,8,["modelValue"]),p])])])])),_:1},8,["header","visible"]),(0,o.Wm)(I,{value:b.arrayCaja,class:"p-datatable-sm",responsiveLayout:"scroll",ref:"dt",lazy:!0,rows:10,paginator:!0,loading:b.loading,totalRecords:b.totalRecords,onPage:e[7]||(e[7]=a=>b.onPage(a)),onSort:e[8]||(e[8]=a=>b.onSort(a)),paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",rowsPerPageOptions:[5,10,20,50,100],currentPageReportTemplate:"Mostrando del {first} al {last} de {totalRecords} Cajas"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{field:"ID_Caja",header:"#",class:"text-right"}),(0,o.Wm)(A,{header:"APERTURA",class:"text-right",style:{"white-space":"nowrap"}},{body:(0,o.w5)((a=>[(0,o.Uk)((0,r.zw)(b.formatDate(a.data.Fecha_Apertura)),1)])),_:1}),(0,o.Wm)(A,{header:"CIERRE",class:"text-right",style:{"white-space":"nowrap"}},{body:(0,o.w5)((a=>[(0,o.Uk)((0,r.zw)(b.formatDate(a.data.Fecha_Cierre)),1)])),_:1}),(0,o.Wm)(A,{header:"INICIAL",class:"text-right"},{body:(0,o.w5)((a=>[(0,o.Uk)((0,r.zw)(b.formatCurrency(a.data.Saldo_Inicial)),1)])),_:1}),(0,o.Wm)(A,{header:"INGRESO",class:"text-right"},{body:(0,o.w5)((a=>[(0,o.Uk)((0,r.zw)(b.formatCurrency(a.data.Ingreso_Caja)),1)])),_:1}),(0,o.Wm)(A,{header:"SALIDA",class:"text-right"},{body:(0,o.w5)((a=>[(0,o.Uk)((0,r.zw)(b.formatCurrency(a.data.Salida_Caja)),1)])),_:1}),(0,o.Wm)(A,{header:"SALDO",class:"text-right"},{body:(0,o.w5)((a=>[(0,o.Uk)((0,r.zw)(b.formatCurrency(a.data.Saldo_Caja)),1)])),_:1}),(0,o.Wm)(A,{field:"Observacion",header:"OBSERVACION"}),(0,o.Wm)(A,{field:"Empleado",header:"EMPLEADO"}),(0,o.Wm)(A,{field:"Estado_Caja",header:"ESTADO"},{body:(0,o.w5)((a=>[1==a.data.Estado_Caja?((0,o.wg)(),(0,o.iD)("span",v,m)):2==a.data.Estado_Caja?((0,o.wg)(),(0,o.iD)("span",C,w)):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(A,{header:"ACCIONES",style:{"white-space":"nowrap"}},{body:(0,o.w5)((a=>[(0,o.wy)((0,o.Wm)(k,{icon:"pi pi-eye",class:"p-button-rounded p-button-info",onClick:e=>b.obtenerID(a.data.ID_Caja)},null,8,["onClick"]),[[M,"Ver Movimientos",void 0,{top:!0}]]),(0,o.wy)((0,o.Wm)(k,{icon:"pi pi-print",class:"p-button-rounded p-button-secondary ml-2"},null,512),[[M,"Imprimir Movimientos",void 0,{top:!0}]]),1==a.data.Estado_Caja?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.wy)((0,o.Wm)(k,{icon:"pi pi-plus",class:"p-button-rounded p-button-success ml-2",onClick:e=>b.obtenerDatos(a.data.ID_Caja,"Ingreso")},null,8,["onClick"]),[[M,"Ingreso Caja",void 0,{top:!0}]]),(0,o.wy)((0,o.Wm)(k,{icon:"pi pi-minus",class:"p-button-rounded p-button-warning ml-2",onClick:e=>b.obtenerDatos(a.data.ID_Caja,"Salida")},null,8,["onClick"]),[[M,"Salida Caja",void 0,{top:!0}]]),(0,o.wy)((0,o.Wm)(k,{icon:"pi pi-lock",class:"p-button-rounded p-button-danger ml-2",onClick:e=>b.llenarDatos(a.data)},null,8,["onClick"]),[[M,"Cerrar Caja",void 0,{top:!0}]])],64)):(0,o.kq)("",!0)])),_:1})])),_:1},8,["value","loading","totalRecords"]),(0,o.Wm)(D,{header:"MOVIMIENTOS",visible:b.detalleModal,"onUpdate:visible":e[10]||(e[10]=a=>b.detalleModal=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"},modal:!0},{footer:(0,o.w5)((()=>[(0,o.Wm)(k,{label:"Ok",icon:"pi pi-check",class:"p-button-primary p-button-text",onClick:e[9]||(e[9]=a=>b.cerrarModalDetalle())})])),default:(0,o.w5)((()=>[(0,o.Wm)(I,{value:b.arrayDetalle,responsiveLayout:"scroll"},{default:(0,o.w5)((()=>[(0,o.Wm)(A,{field:"Tipo_Movimiento",header:"TIPO"}),(0,o.Wm)(A,{header:"MONTO",class:"text-right"},{body:(0,o.w5)((a=>[(0,o.Uk)((0,r.zw)(b.formatCurrency(a.data.Monto_Movimiento)),1)])),_:1}),(0,o.Wm)(A,{field:"Observacion_Movimiento",header:"OBSERVACIÓN"})])),_:1},8,["value"])])),_:1},8,["visible"])])}var g=t(5521),k=t(3435),h=t(4870),_=t(6797),j=t.n(_),D={setup(){const a=(0,k.p)(),e=(0,h.iH)(1),t=(0,h.iH)("ABRIR CAJA"),r=(0,h.iH)(),n=(0,h.iH)(!1),l=(0,h.iH)(),i=(0,h.iH)(0),s=a=>{l.value=a,W()},u=a=>{l.value.page=a,W()},d=(0,h.iH)(),c=(0,h.iH)({}),p=(0,h.iH)(!1),v=()=>{p.value=!0},b=()=>{S(),p.value=!1},m=(0,h.iH)(0),C=(0,h.iH)(),f=(0,h.iH)(!1),w=()=>{f.value=!0},y=()=>{f.value=!1},_=a=>{if(a)return a.toLocaleString("es-BO",{style:"currency",currency:"BOB"})},D=a=>{if(a)return j()(a).format("DD-MM-YYYY")};function A(e,t,o){a.add({severity:e,summary:t,detail:o,life:3e3})}function I(a){m.value=a,M()}function M(){g.hM(m.value).then((a=>{C.value=a.data})),w()}function W(){g.vR(l.value).then((a=>{n.value=!0,setTimeout((()=>{d.value=a.data.data,i.value=a.data.total,n.value=!1}),2e3)}))}function O(){g.eh(c.value).then((a=>{1==a.data?(b(),A("error","Error","Ya tienes una CAJA abierta")):(b(),A("success","Éxito","Caja Abierta"),W())}))}function x(a){e.value=2,t.value="CERRAR CAJA",c.value.id=a.ID_Caja,c.value.observacion=a.Observacion,v()}function R(){g.rn(c.value).then((a=>{W(),A("success","Éxito","Caja Cerrada"),b(),S()}))}function S(){e.value=1,c.value={},t.value="ABRIR CAJA"}function E(a,o){e.value=3,t.value="Ingreso"==o?"INGRESO CAJA":"SALIDA CAJA",c.value.id=a,c.value.tipo=o,v()}function P(){g._z(c.value).then((a=>{422==a?A("error","Error","Los campos son obligatorios"):(A("info","Éxito","Actualizado Correctamente"),setTimeout((()=>{S(),b(),W()}),2e3))}))}return(0,o.bv)((()=>{n.value=!0,l.value={first:0,rows:r.value.rows,sortField:null,sortOrder:null,page:0},W()})),{dt:r,onPage:s,onSort:u,loading:n,totalRecords:i,header:t,btnCerrar:e,cajaModal:p,abrirModal:v,cerrarModal:b,limpiarCampos:S,arrayCaja:d,datosCaja:c,cierre:R,apertura:O,llenarDatos:x,obtenerDatos:E,ingresoSalida:P,obtenerID:I,detalleModal:f,arrayDetalle:C,listarDetalle:M,abrirModalDetalle:w,cerrarModalDetalle:y,formatDate:D,formatCurrency:_}}},A=t(89);const I=(0,A.Z)(D,[["render",y]]);var M=I}}]);
//# sourceMappingURL=about.0b20a73d.js.map