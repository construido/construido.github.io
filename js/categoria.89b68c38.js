"use strict";(self["webpackChunkrestaurante_front"]=self["webpackChunkrestaurante_front"]||[]).push([[989],{3606:function(a,e,t){t.d(e,{RY:function(){return i},Wp:function(){return n},aM:function(){return u},lf:function(){return l},vR:function(){return r}});var o=t(3190);function i(){return(0,o.d)().get("verify/listarCategoriaSelect")}function r(a,e){return(0,o.d)().get("verify/listarCategorias?page="+(a.page+1)+"&rows="+a.rows+"&filters="+e)}function l(a){return(0,o.d)().post("verify/guardarCategoria",{Nombre:a.nombre,Descripcion:a.descripcion})}function n(a){return(0,o.d)().put("verify/actualizarCategoria",{ID:a.id,Nombre:a.nombre,Descripcion:a.descripcion})}function u(a){return(0,o.d)().put("verify/actualizarEstadoCategoria",{ID:a.id,Estado:a.estado})}},8468:function(a,e,t){t.r(e),t.d(e,{default:function(){return H}});var o=t(3396),i=t(7139);const r={class:"card"},l={class:"grid p-fluid"},n={class:"col-12 md:col-12"},u={class:"p-inputgroup"},s={key:0,class:"p-fluid grid p-4"},d={key:1,class:"p-fluid grid p-4"},c={class:"field col-12 md:col-12"},p={class:"p-float-label"},g=(0,o._)("label",{for:"inputtext",autofocus:""},"Nombre",-1),v={class:"field col-12 md:col-12"},m={class:"p-float-label"},C=(0,o._)("label",{for:"textarea"},"Descripción",-1),f={key:0,style:{color:"darkgreen"}},b=(0,o._)("b",null," Activo ",-1),k=[b],w={key:1,style:{color:"crimson"}},y=(0,o._)("b",null," Inactivo ",-1),_=[y];function D(a,e,t,b,y,D){const h=(0,o.up)("Toast"),W=(0,o.up)("Button"),x=(0,o.up)("InputText"),P=(0,o.up)("Toolbar"),E=(0,o.up)("Textarea"),R=(0,o.up)("Dialog"),H=(0,o.up)("Column"),N=(0,o.up)("DataTable"),z=(0,o.Q2)("tooltip");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(h),(0,o.Wm)(P,{class:"mb-4"},{start:(0,o.w5)((()=>[(0,o.Wm)(W,{label:"Nueva Categoría",icon:"pi pi-external-link",onClick:b.abrirModal},null,8,["onClick"])])),end:(0,o.w5)((()=>[(0,o._)("div",l,[(0,o._)("div",n,[(0,o._)("div",u,[(0,o.Wm)(x,{placeholder:"filtrar por nombre...",modelValue:b.filters,"onUpdate:modelValue":e[0]||(e[0]=a=>b.filters=a)},null,8,["modelValue"]),(0,o.wy)((0,o.Wm)(W,{icon:"pi pi-search",class:"p-button-primary p-button-outlined",onClick:e[1]||(e[1]=a=>b.listar())},null,512),[[z,"Filtrar Categorías",void 0,{top:!0}]])])])])])),_:1}),(0,o.Wm)(R,{header:b.header,visible:b.categoriaModal,"onUpdate:visible":e[4]||(e[4]=a=>b.categoriaModal=a),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"},modal:!0},{footer:(0,o.w5)((()=>[(0,o.Wm)(W,{label:"Cerrar",icon:"pi pi-times",onClick:b.cerrarModal,class:"p-button-danger p-button-text"},null,8,["onClick"]),1==b.elim?((0,o.wg)(),(0,o.j4)(W,{key:0,label:"Aceptar",icon:"pi pi-check",class:"p-button-warning p-button-text",onClick:b.eliminar},null,8,["onClick"])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[1==b.edit?((0,o.wg)(),(0,o.j4)(W,{key:0,label:"Actualizar",class:"p-button-success p-button-text",icon:"pi pi-check",onClick:b.editar},null,8,["onClick"])):((0,o.wg)(),(0,o.j4)(W,{key:1,label:"Guardar",icon:"pi pi-check",class:"p-button-primary p-button-text",onClick:b.guardar},null,8,["onClick"]))],64))])),default:(0,o.w5)((()=>[1==b.elim?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("h1",null,(0,i.zw)(b.message),1)])):((0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",c,[(0,o._)("span",p,[(0,o.Wm)(x,{id:"inputtext",type:"text",modelValue:b.datosCategoria.nombre,"onUpdate:modelValue":e[2]||(e[2]=a=>b.datosCategoria.nombre=a)},null,8,["modelValue"]),g])]),(0,o._)("div",v,[(0,o._)("span",m,[(0,o.Wm)(E,{id:"textarea",modelValue:b.datosCategoria.descripcion,"onUpdate:modelValue":e[3]||(e[3]=a=>b.datosCategoria.descripcion=a),rows:"3"},null,8,["modelValue"]),C])])]))])),_:1},8,["header","visible"]),(0,o.Wm)(N,{ref:"dt",value:b.arrayCategoria,lazy:!0,rows:10,paginator:!0,loading:b.loading,totalRecords:b.totalRecords,class:"p-datatable-sm",responsiveLayout:"scroll",onPage:e[5]||(e[5]=a=>b.onPage(a)),onSort:e[6]||(e[6]=a=>b.onSort(a)),paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",rowsPerPageOptions:[5,10,20,50,100],currentPageReportTemplate:"Mostrando del {first} al {last} de {totalRecords} Categorias"},{default:(0,o.w5)((()=>[(0,o.Wm)(H,{field:"ID_Categoria",header:"#",class:"text-right"}),(0,o.Wm)(H,{field:"Nombre_Categoria",header:"NOMBRE"}),(0,o.Wm)(H,{field:"Descripcion_Categoria",header:"DESCRIPCIÓN"}),(0,o.Wm)(H,{header:"ESTADO"},{body:(0,o.w5)((a=>[a.data.Estado_Categoria?((0,o.wg)(),(0,o.iD)("span",f,k)):((0,o.wg)(),(0,o.iD)("span",w,_))])),_:1}),(0,o.Wm)(H,{exportable:!1,style:{"min-width":"8rem"},header:"ACCIONES"},{body:(0,o.w5)((a=>[(0,o.wy)((0,o.Wm)(W,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:e=>b.cargarEdit(a.data)},null,8,["onClick"]),[[z,"Editar Categoría",void 0,{top:!0}]]),a.data.Estado_Categoria?(0,o.wy)(((0,o.wg)(),(0,o.j4)(W,{key:0,icon:"pi pi-lock",class:"p-button-rounded p-button-danger mr-2",onClick:e=>b.cargarDelete(a.data)},null,8,["onClick"])),[[z,"Desactivar Categoría",void 0,{top:!0}]]):(0,o.wy)(((0,o.wg)(),(0,o.j4)(W,{key:1,icon:"pi pi-lock-open",class:"p-button-rounded p-button-primary",onClick:e=>b.cargarDelete(a.data)},null,8,["onClick"])),[[z,"Activar Categoría",void 0,{top:!0}]])])),_:1})])),_:1},8,["value","loading","totalRecords"])])}var h=t(3606),W=t(3435),x=t(4870),P={setup(){const a=(0,x.iH)(),e=(0,x.iH)(""),t=(0,x.iH)({}),i=(0,x.iH)(!1),r=(0,x.iH)(0),l=(0,x.iH)(""),n=(0,x.iH)(!1),u=(0,x.iH)(!1),s=(0,x.iH)("Nueva Categoria"),d=(0,W.p)(),c=(0,x.iH)({id:"",nombre:"",descripcion:"",estado:0}),p=(0,x.iH)(),g=(0,x.iH)(!1),v=()=>{g.value=!0},m=()=>{y(),g.value=!1},C=a=>{t.value=a,_()},f=a=>{a=JSON.stringify(a.page),a=parseInt(a),t.value.page=a+1,_()};function b(){d.add({severity:"success",summary:"Categoria Registrada",detail:"Registrado Correctamente",life:3e3})}function k(){d.add({severity:"info",summary:"Categoria Actualizada",detail:"Actualizado Correctamente",life:3e3})}function w(){d.add({severity:"warn",summary:"Estado Actualizado",detail:"Actualizado Correctamente",life:3e3})}function y(){u.value=!1,n.value=!1,s.value="Nueva Categoria",c.value.id="",c.value.nombre="",c.value.descripcion="",c.value.estado=0}function _(){h.vR(t.value,e.value).then((a=>{i.value=!0,setTimeout((()=>{p.value=a.data.data,r.value=a.data.total,i.value=!1}),2e3)}))}function D(){h.lf(c.value).then((a=>{_(),m(),b()}))}function P(a){u.value=!0,s.value="Actualizar Categoria",c.value.id=a.ID_Categoria,c.value.nombre=a.Nombre_Categoria,c.value.descripcion=a.Descripcion_Categoria,v()}function E(){h.Wp(c.value).then((a=>{_(),k(),m()}))}function R(a){console.log(a.Estado_Categoria),n.value=!0,s.value="Estado Categoria",1==a.Estado_Categoria?l.value="Desea desactivar esta Categoría ?":l.value="Desea activar esta Categoría ?",c.value.id=a.ID_Categoria,c.value.estado=a.Estado_Categoria,v()}function H(){h.aM(c.value).then((a=>{_(),w(),m()}))}return(0,o.bv)((()=>{i.value=!0,t.value={first:0,rows:a.value.rows,sortField:null,sortOrder:null,page:0},_()})),{dt:a,onPage:C,onSort:f,filters:e,loading:i,lazyParams:t,totalRecords:r,abrirModal:v,cerrarModal:m,categoriaModal:g,edit:u,elim:n,header:s,message:l,cargarEdit:P,cargarDelete:R,editar:E,listar:_,guardar:D,eliminar:H,datosCategoria:c,arrayCategoria:p}}},E=t(89);const R=(0,E.Z)(P,[["render",D]]);var H=R}}]);
//# sourceMappingURL=categoria.89b68c38.js.map