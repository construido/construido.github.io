"use strict";(self["webpackChunkrestaurante_front"]=self["webpackChunkrestaurante_front"]||[]).push([[34],{5521:function(e,o,a){a.d(o,{_z:function(){return i},c1:function(){return n},eh:function(){return d},hM:function(){return r},rn:function(){return u},vR:function(){return l}});var t=a(3190);function l(e){return(0,t.d)().get("verify/listarCajas?page="+(e.page+1)+"&rows="+e.rows)}function r(e){return(0,t.d)().get("verify/listarMovimientos?Caja="+e)}function n(){return(0,t.d)().post("verify/buscarCaja")}function i(e){return(0,t.d)().post("verify/ingresoSalidaCaja",{Caja:e.id,Tipo:e.tipo,Monto:e.monto,Observacion:e.observacion})}function d(e){return(0,t.d)().post("verify/aperturaCaja",{Inicio:e.monto,Observacion:e.observacion})}function u(e){return(0,t.d)().post("verify/cierreCaja",{ID:e.id,Observacion:e.observacion})}},3606:function(e,o,a){a.d(o,{RY:function(){return l},Wp:function(){return i},aM:function(){return d},lf:function(){return n},vR:function(){return r}});var t=a(3190);function l(){return(0,t.d)().get("verify/listarCategoriaSelect")}function r(e,o){return(0,t.d)().get("verify/listarCategorias?page="+(e.page+1)+"&rows="+e.rows+"&filters="+o)}function n(e){return(0,t.d)().post("verify/guardarCategoria",{Nombre:e.nombre,Descripcion:e.descripcion})}function i(e){return(0,t.d)().put("verify/actualizarCategoria",{ID:e.id,Nombre:e.nombre,Descripcion:e.descripcion})}function d(e){return(0,t.d)().put("verify/actualizarEstadoCategoria",{ID:e.id,Estado:e.estado})}},4199:function(e,o,a){a.d(o,{RY:function(){return r},Wp:function(){return i},aM:function(){return d},lf:function(){return n},vR:function(){return l}});var t=a(3190);function l(e,o){return(0,t.d)().get("verify/listarClientes?page="+(e.page+1)+"&rows="+e.rows+"&filters="+o)}function r(){return(0,t.d)().get("verify/listarSelectCliente")}function n(e){return(0,t.d)().post("verify/guardarCliente",{Nombre:e.nombre,CI_NIT:e.ci_nit,Correo:e.correo,Telefono:e.telefono})}function i(e){return(0,t.d)().put("verify/actualizarCliente",{ID:e.id,Nombre:e.nombre,CI_NIT:e.ci_nit,Correo:e.correo,Telefono:e.telefono})}function d(e){return(0,t.d)().put("verify/actualizarEstadoCliente",{ID:e.id,Estado:e.estado})}},8326:function(e,o,a){a.d(o,{hM:function(){return r},lf:function(){return n},vR:function(){return l}});var t=a(3190);function l(e){return(0,t.d)().get("verify/listarCompras?page="+(e.page+1)+"&rows="+e.rows)}function r(e){return(0,t.d)().get("verify/listarDetalleCompra?Compra="+e)}function n(e,o,a){return(0,t.d)().post("verify/guardarCompra",{Total:a,Productos:o,Proveedor:e})}},3856:function(e,o,a){a.d(o,{Wp:function(){return i},Zb:function(){return r},aM:function(){return d},lf:function(){return n},vR:function(){return l}});var t=a(3190);function l(e,o){return(0,t.d)().get("verify/listarProductos?page="+(e.page+1)+"&rows="+e.rows+"&filters="+o)}function r(e){return(0,t.d)().get("verify/buscarProducto?Nombre="+e)}function n(e){return(0,t.d)().post("verify/guardarProducto",{Venta:e.venta,Compra:e.compra,Nombre:e.nombre,Minimo:e.minimo,Ingreso:e.ingreso,Categoria:e.categoria,Descripcion:e.descripcion})}function i(e){return(0,t.d)().put("verify/actualizarProducto",{ID:e.id,Venta:e.venta,Stock:e.stock,Compra:e.compra,Salida:e.salida,Nombre:e.nombre,Minimo:e.minimo,Ingreso:e.ingreso,Categoria:e.categoria,Descripcion:e.descripcion})}function d(e){return(0,t.d)().put("verify/actualizarEstadoProducto",{ID:e.id,Estado:e.estado})}},4884:function(e,o,a){a.d(o,{RY:function(){return r},Wp:function(){return i},aM:function(){return d},lf:function(){return n},vR:function(){return l}});var t=a(3190);function l(e,o){return(0,t.d)().get("verify/listarProveedores?page="+(e.page+1)+"&rows="+e.rows+"&filters="+o)}function r(){return(0,t.d)().get("verify/listarSelectProveedor")}function n(e){return(0,t.d)().post("verify/guardarProveedor",{Nombre:e.nombre,CI_NIT:e.ci_nit,Correo:e.correo,Telefono:e.telefono})}function i(e){return(0,t.d)().put("verify/actualizarProveedor",{ID:e.id,Nombre:e.nombre,CI_NIT:e.ci_nit,Correo:e.correo,Telefono:e.telefono})}function d(e){return(0,t.d)().put("verify/actualizarEstadoProveedor",{ID:e.id,Estado:e.estado})}},9871:function(e,o,a){a.d(o,{hM:function(){return r},lf:function(){return n},vR:function(){return l}});var t=a(3190);function l(e){return(0,t.d)().get("verify/listarVentas?page="+(e.page+1)+"&rows="+e.rows)}function r(e){return(0,t.d)().get("verify/listarDetalleVenta?Venta="+e)}function n(e,o,a){return(0,t.d)().post("verify/guardarVenta",{Total:a,Cliente:e,Productos:o})}},4898:function(e,o,a){a.r(o),a.d(o,{default:function(){return le}});var t=a(3396);const l={class:"card"},r={class:"p-fluid"},n={class:"col-12 md:col-12"},i={class:"p-inputgroup"},d={key:0,style:{color:"darkgreen"}},u=(0,t._)("b",null," Activo ",-1),c=[u],s={key:1,style:{color:"crimson"}},p=(0,t._)("b",null," Inactivo ",-1),m=[p];function v(e,o,a,u,p,v){const f=(0,t.up)("Toast"),b=(0,t.up)("ConfirmDialog"),_=(0,t.up)("ModalNuevo"),g=(0,t.up)("InputText"),C=(0,t.up)("Button"),y=(0,t.up)("Toolbar"),P=(0,t.up)("Column"),w=(0,t.up)("ModalEditar"),W=(0,t.up)("DataTable"),k=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t.Wm)(f),(0,t.Wm)(b),(0,t.Wm)(y,{class:"mb-4"},{start:(0,t.w5)((()=>[(0,t.Wm)(_,{listar:u.listar},null,8,["listar"])])),end:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t._)("div",n,[(0,t._)("div",i,[(0,t.Wm)(g,{placeholder:"filtrar por nombre...",modelValue:u.filters,"onUpdate:modelValue":o[0]||(o[0]=e=>u.filters=e)},null,8,["modelValue"]),(0,t.wy)((0,t.Wm)(C,{icon:"pi pi-search",class:"p-button-primary p-button-outlined",onClick:o[1]||(o[1]=e=>u.listar())},null,512),[[k,"Filtrar Clientes",void 0,{top:!0}]])])])])])),_:1}),(0,t.Wm)(W,{value:u.arrayCliente,responsiveLayout:"scroll",class:"p-datatable-sm",ref:"dt",lazy:!0,rows:10,paginator:!0,loading:u.loading,totalRecords:u.totalRecords,onPage:o[2]||(o[2]=e=>u.onPage(e)),rowsPerPageOptions:[5,10,20,50,100],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"Mostrando del {first} al {last} de {totalRecords} Clientes"},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{field:"ID_Cliente",header:"#",class:"text-right"}),(0,t.Wm)(P,{field:"Nombre_Razon_Social_Cliente",header:"RAZÓN SOCIAL"}),(0,t.Wm)(P,{field:"CI_NIT_Cliente",header:"CI / NIT",class:"text-right"}),(0,t.Wm)(P,{field:"Telefono_Cliente",header:"TELEFONO",class:"text-right"}),(0,t.Wm)(P,{field:"Correo_Cliente",header:"CORREO"}),(0,t.Wm)(P,{header:"ESTADO"},{body:(0,t.w5)((e=>[e.data.Estado_Cliente?((0,t.wg)(),(0,t.iD)("span",d,c)):((0,t.wg)(),(0,t.iD)("span",s,m))])),_:1}),(0,t.Wm)(P,{exportable:!1,style:{"min-width":"8rem"},header:"ACCIONES"},{body:(0,t.w5)((e=>[(0,t.Wm)(w,{onListar:u.listar,cliente:e.data},null,8,["onListar","cliente"]),e.data.Estado_Cliente?((0,t.wg)(),(0,t.j4)(C,{key:0,title:"Desactivar",icon:"pi pi-lock",class:"p-button-rounded p-button-danger mr-2",onClick:o=>u.confirmar(e.data)},null,8,["onClick"])):((0,t.wg)(),(0,t.j4)(C,{key:1,icon:"pi pi-lock-open",title:"Activar",class:"p-button-rounded p-button-primary",onClick:o=>u.confirmar(e.data)},null,8,["onClick"]))])),_:1})])),_:1},8,["value","loading","totalRecords"])])}const f={class:"p-fluid grid p-4"},b={class:"field col-12 md:col-6"},_={class:"p-float-label"},g=(0,t._)("label",{for:"nombre",autofocus:""},"Nombre o Razón Social",-1),C={class:"field col-12 md:col-6"},y={class:"p-float-label"},P=(0,t._)("label",{for:"ci_nit",autofocus:""},"CI / NIT",-1),w={class:"p-fluid grid p-4"},W={class:"field col-12 md:col-6"},k={class:"p-float-label"},h=(0,t._)("label",{for:"telefono",autofocus:""},"Telefono",-1),V={class:"field col-12 md:col-6"},D={class:"p-float-label"},T=(0,t._)("label",{for:"correo",autofocus:""},"Correo",-1);function x(e,o,a,l,r,n){const i=(0,t.up)("Toast"),d=(0,t.up)("Button"),u=(0,t.up)("InputText"),c=(0,t.up)("Dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(i),(0,t.Wm)(d,{icon:"pi pi-pencil",title:"Editar",class:"p-button-rounded p-button-success mr-2",onClick:l.abrirModal},null,8,["onClick"]),(0,t.Wm)(c,{header:"Actualizar Cliente",visible:l.clienteModal,"onUpdate:visible":o[4]||(o[4]=e=>l.clienteModal=e),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"},modal:!0},{footer:(0,t.w5)((()=>[(0,t.Wm)(d,{label:"Cerrar",icon:"pi pi-times",class:"p-button-danger p-button-text",onClick:l.cerrarModal},null,8,["onClick"]),(0,t.Wm)(d,{label:"Guardar",icon:"pi pi-check",class:"p-button-primary p-button-text",onClick:l.eliminar},null,8,["onClick"])])),default:(0,t.w5)((()=>[(0,t._)("div",f,[(0,t._)("div",b,[(0,t._)("span",_,[(0,t.Wm)(u,{id:"nombre",type:"text",modelValue:l.datosCliente.nombre,"onUpdate:modelValue":o[0]||(o[0]=e=>l.datosCliente.nombre=e)},null,8,["modelValue"]),g])]),(0,t._)("div",C,[(0,t._)("span",y,[(0,t.Wm)(u,{id:"ci_nit",type:"number",modelValue:l.datosCliente.ci_nit,"onUpdate:modelValue":o[1]||(o[1]=e=>l.datosCliente.ci_nit=e)},null,8,["modelValue"]),P])])]),(0,t._)("div",w,[(0,t._)("div",W,[(0,t._)("span",k,[(0,t.Wm)(u,{id:"telefono",type:"number",modelValue:l.datosCliente.telefono,"onUpdate:modelValue":o[2]||(o[2]=e=>l.datosCliente.telefono=e)},null,8,["modelValue"]),h])]),(0,t._)("div",V,[(0,t._)("span",D,[(0,t.Wm)(u,{id:"correo",type:"text",modelValue:l.datosCliente.correo,"onUpdate:modelValue":o[3]||(o[3]=e=>l.datosCliente.correo=e)},null,8,["modelValue"]),T])])])])),_:1},8,["visible"])],64)}var E=a(4199),I=a(3435),M=a(4870),R={name:"ModalEditar",emits:["listar"],props:{cliente:{type:Object}},setup(e,{emit:o}){const a=(0,I.p)(),t=(0,M.iH)({id:e.cliente.ID_Cliente,ci_nit:e.cliente.CI_NIT_Cliente,correo:e.cliente.Correo_Cliente,telefono:e.cliente.Telefono_Cliente,nombre:e.cliente.Nombre_Razon_Social_Cliente}),l=(0,M.iH)(!1),r=()=>{l.value=!0},n=()=>{l.value=!1};function i(e,o,t){a.add({severity:e,summary:o,detail:t,life:3e3})}function d(){E.Wp(t.value).then((e=>{422==e?i("error","Error","Debe llenar todos los campos"):(i("success","Éxito","Actualizado Correctamente"),setTimeout((()=>{n(),o("listar")}),2e3))}))}return{eliminar:d,datosCliente:t,abrirModal:r,cerrarModal:n,clienteModal:l}}},O=a(89);const N=(0,O.Z)(R,[["render",x]]);var H=N;const U={class:"p-fluid grid p-4"},L={class:"field col-12 md:col-6"},S={class:"p-float-label"},A=(0,t._)("label",{for:"nombre",autofocus:""},"Nombre o Razón Social",-1),B={class:"field col-12 md:col-6"},z={class:"p-float-label"},Z=(0,t._)("label",{for:"ci_nit",autofocus:""},"CI / NIT",-1),j={class:"p-fluid grid p-4"},Y={class:"field col-12 md:col-6"},F={class:"p-float-label"},G=(0,t._)("label",{for:"telefono",autofocus:""},"Telefono",-1),q={class:"field col-12 md:col-6"},Q={class:"p-float-label"},$=(0,t._)("label",{for:"correo",autofocus:""},"Correo",-1);function K(e,o,a,l,r,n){const i=(0,t.up)("Toast"),d=(0,t.up)("Button"),u=(0,t.up)("InputText"),c=(0,t.up)("Dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(i),(0,t.Wm)(d,{label:"Nuevo Cliente",icon:"pi pi-external-link",onClick:l.abrirModal},null,8,["onClick"]),(0,t.Wm)(c,{header:"Nuevo Cliente",visible:l.clienteModal,"onUpdate:visible":o[4]||(o[4]=e=>l.clienteModal=e),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"},modal:!0},{footer:(0,t.w5)((()=>[(0,t.Wm)(d,{label:"Cerrar",icon:"pi pi-times",onClick:l.cerrarModal,class:"p-button-danger p-button-text"},null,8,["onClick"]),(0,t.Wm)(d,{label:"Guardar",icon:"pi pi-check",class:"p-button-primary p-button-text",onClick:l.guardar},null,8,["onClick"])])),default:(0,t.w5)((()=>[(0,t._)("div",U,[(0,t._)("div",L,[(0,t._)("span",S,[(0,t.Wm)(u,{id:"nombre",type:"text",modelValue:l.datosCliente.nombre,"onUpdate:modelValue":o[0]||(o[0]=e=>l.datosCliente.nombre=e)},null,8,["modelValue"]),A])]),(0,t._)("div",B,[(0,t._)("span",z,[(0,t.Wm)(u,{id:"ci_nit",type:"number",modelValue:l.datosCliente.ci_nit,"onUpdate:modelValue":o[1]||(o[1]=e=>l.datosCliente.ci_nit=e)},null,8,["modelValue"]),Z])])]),(0,t._)("div",j,[(0,t._)("div",Y,[(0,t._)("span",F,[(0,t.Wm)(u,{id:"telefono",type:"number",modelValue:l.datosCliente.telefono,"onUpdate:modelValue":o[2]||(o[2]=e=>l.datosCliente.telefono=e)},null,8,["modelValue"]),G])]),(0,t._)("div",q,[(0,t._)("span",Q,[(0,t.Wm)(u,{id:"correo",type:"text",modelValue:l.datosCliente.correo,"onUpdate:modelValue":o[3]||(o[3]=e=>l.datosCliente.correo=e)},null,8,["modelValue"]),$])])])])),_:1},8,["visible"])],64)}var J={name:"ModalNuevo",props:{listar:{type:Function}},setup(e){const o=(0,I.p)(),a=(0,M.iH)({}),t=(0,M.iH)(!1),l=()=>{t.value=!0},r=()=>{i(),t.value=!1};function n(e,a,t){o.add({severity:e,summary:a,detail:t,life:3e3})}function i(){a.value={}}function d(){E.lf(a.value).then((o=>{422==o?n("error","Error","Debe llenar todos los campos"):(n("success","Éxito","Guardado Correctamente"),setTimeout((()=>{r(),i(),e.listar()}),2e3))}))}return{guardar:d,abrirModal:l,cerrarModal:r,clienteModal:t,datosCliente:a}}};const X=(0,O.Z)(J,[["render",K]]);var ee=X,oe=a(7046),ae={components:{ModalNuevo:ee,ModalEditar:H},setup(){const e=(0,M.iH)(),o=(0,M.iH)(""),a=(0,M.iH)(!1),l=(0,M.iH)(),r=(0,M.iH)(0),n=e=>{l.value=e,p()},i=(0,I.p)(),d=(0,oe.N)(),u=(0,M.iH)(),c=(0,M.iH)({id:0,estado:""}),s=e=>{let o=1==e.Estado_Cliente?"Desactivar cliente":"Activar cliente",a=1==e.Estado_Cliente?"pi pi-info-circle":"pi pi-exclamation-triangle",t=1==e.Estado_Cliente?"p-button-danger":"p-button-primary",l=1==e.Estado_Cliente?"Cliente desactivado":"Cliente activado";c.value.id=e.ID_Cliente,c.value.estado=e.Estado_Cliente,d.require({message:"Estás seguro de continuar?",header:o,icon:a,acceptClass:t,accept:()=>{m(),i.add({severity:"info",summary:"Confirmado",detail:l,life:3e3}),d.close()},reject:()=>{i.add({severity:"error",summary:"Rechazado",detail:"Has rechazado",life:3e3}),d.close()}})};function p(){E.vR(l.value,o.value).then((e=>{a.value=!0,setTimeout((()=>{u.value=e.data.data,r.value=e.data.total,a.value=!1}),2e3)}))}function m(){E.aM(c.value).then((e=>{p()}))}return(0,t.bv)((()=>{l.value={first:0,rows:e.value.rows,sortField:null,sortOrder:null,page:0},p()})),{dt:e,onPage:n,loading:a,filters:o,totalRecords:r,listar:p,confirmar:s,arrayCliente:u}}};const te=(0,O.Z)(ae,[["render",v]]);var le=te},6094:function(e,o,a){a.r(o),a.d(o,{default:function(){return W}});var t=a(3396),l=a(7139);const r={key:0,style:{color:"darkgreen"}},n=(0,t._)("b",null," Activo ",-1),i=[n],d={key:1,style:{color:"crimson"}},u=(0,t._)("b",null," Inactivo ",-1),c=[u];function s(e,o,a,n,u,s){const p=(0,t.up)("Toast"),m=(0,t.up)("ConfirmDialog"),v=(0,t.up)("Button"),f=(0,t.up)("Toolbar"),b=(0,t.up)("Column"),_=(0,t.up)("ModalDetalle"),g=(0,t.up)("DataTable");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(p),(0,t.Wm)(m),(0,t.Wm)(f,{class:"mb-4"},{start:(0,t.w5)((()=>[(0,t.Wm)(v,{label:"Nueva Compra",icon:"pi pi-external-link",onClick:o[0]||(o[0]=o=>e.$router.push("/compra/nuevo"))})])),_:1}),(0,t.Wm)(g,{value:n.arrayCompra,responsiveLayout:"scroll",class:"p-datatable-sm",style:{"white-space":"nowrap"},ref:"dt",lazy:!0,rows:10,paginator:!0,loading:n.loading,totalRecords:n.totalRecords,onPage:o[1]||(o[1]=e=>n.onPage(e)),paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",rowsPerPageOptions:[5,10,20,50,100],currentPageReportTemplate:"Mostrando del {first} al {last} de {totalRecords} Compras"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{field:"ID_Compra",header:"#",class:"text-right"}),(0,t.Wm)(b,{header:"FECHA",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(n.formatDate(e.data.Fecha_Compra)),1)])),_:1}),(0,t.Wm)(b,{header:"MONTO",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(n.formatCurrency(e.data.Monto_Total_Compra)),1)])),_:1}),(0,t.Wm)(b,{field:"Empleado",header:"EMPLEADO"}),(0,t.Wm)(b,{field:"Proveedor",header:"PROVEEDOR"}),(0,t.Wm)(b,{header:"ESTADO"},{body:(0,t.w5)((e=>[e.data.Estado_Compra?((0,t.wg)(),(0,t.iD)("span",r,i)):((0,t.wg)(),(0,t.iD)("span",d,c))])),_:1}),(0,t.Wm)(b,{exportable:!1,style:{"min-width":"8rem"},header:"ACCIONES"},{body:(0,t.w5)((e=>[(0,t.Wm)(_,{compra:e.data.ID_Compra},null,8,["compra"]),(0,t.Wm)(v,{icon:"pi pi-print",title:"Imprimir Compra",class:"p-button-rounded p-button-secondary mr-2 ml-2"}),e.data.Estado_Compra?((0,t.wg)(),(0,t.j4)(v,{key:0,title:"Desactivar",icon:"pi pi-lock",class:"p-button-rounded p-button-danger"})):(0,t.kq)("",!0)])),_:1})])),_:1},8,["value","loading","totalRecords"])],64)}function p(e,o,a,r,n,i){const d=(0,t.up)("Button"),u=(0,t.up)("Column"),c=(0,t.up)("DataTable"),s=(0,t.up)("Dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(d,{icon:"pi pi-eye",title:"Ver Detalle",class:"p-button-rounded p-button-info",onClick:r.abrirModal},null,8,["onClick"]),(0,t.Wm)(s,{header:"DETALLES DE COMPRA",visible:r.proveedorModal,"onUpdate:visible":o[0]||(o[0]=e=>r.proveedorModal=e),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"},modal:!0},{footer:(0,t.w5)((()=>[(0,t.Wm)(d,{label:"Ok",icon:"pi pi-check",class:"p-button-primary p-button-text",onClick:r.cerrarModal},null,8,["onClick"])])),default:(0,t.w5)((()=>[(0,t.Wm)(c,{value:r.arrayDetalle,responsiveLayout:"scroll"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{field:"Producto",header:"PRODUCTO"}),(0,t.Wm)(u,{header:"PRECIO",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(r.formatCurrency(e.data.Precio_Compra)),1)])),_:1}),(0,t.Wm)(u,{field:"Cantidad_Compra",header:"CANTIDAD",class:"text-right"}),(0,t.Wm)(u,{header:"SUB TOTAL",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(r.formatCurrency(e.data.Monto_Parcial_Compra)),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["visible"])],64)}var m=a(8326),v=a(4870),f={name:"ModalDetalle",props:{compra:{type:Number}},setup(e){const o=(0,v.iH)([]),a=(0,v.iH)(e.compra),l=(0,v.iH)(!1),r=()=>{l.value=!0},n=()=>{l.value=!1};function i(){m.hM(a.value).then((e=>{o.value=e.data}))}(0,t.bv)((()=>{i()}));const d=e=>{if(e)return e.toLocaleString("es-BO",{style:"currency",currency:"BOB"})};return{idcompra:a,abrirModal:r,cerrarModal:n,arrayDetalle:o,proveedorModal:l,formatCurrency:d}}},b=a(89);const _=(0,b.Z)(f,[["render",p]]);var g=_,C=a(6797),y=a.n(C),P={components:{ModalDetalle:g},setup(){const e=(0,v.iH)(),o=(0,v.iH)(),a=(0,v.iH)(!1),l=(0,v.iH)(),r=(0,v.iH)(0),n=e=>{l.value=e,i()};function i(){m.vR(l.value).then((o=>{a.value,console.log(o),setTimeout((()=>{r.value=o.data.total,e.value=o.data.data,a.value=!1}),2e3)}))}(0,t.bv)((()=>{a.value=!0,l.value={first:0,rows:o.value.rows,sortField:null,sortOrder:null,page:0},i()}));const d=e=>{if(e)return e.toLocaleString("es-BO",{style:"currency",currency:"BOB"})},u=e=>{if(e)return y()(e).format("DD/MM/YY")};return{dt:o,onPage:n,loading:a,totalRecords:r,arrayCompra:e,formatDate:u,formatCurrency:d}}};const w=(0,b.Z)(P,[["render",s]]);var W=w},1651:function(e,o,a){a.r(o),a.d(o,{default:function(){return Y}});var t=a(3396),l=a(7139);const r={class:"p-fluid grid my-4"},n={class:"field col-12 md:col-4"},i={class:"p-inputgroup"},d={class:"p-float-label"},u=(0,t._)("label",{for:"buscar"},"Nombre o Código",-1),c={class:"field col-12 md:col-4"},s={class:"p-float-label"},p=(0,t._)("label",{for:"producto"},"Producto",-1),m={class:"field col-12 md:col-4"},v={class:"p-float-label"},f=(0,t._)("label",{for:"categoria"},"Categoria",-1),b={class:"p-fluid grid"},_={class:"field col-12 md:col-4"},g={class:"p-float-label"},C=(0,t._)("label",{for:"precio"},"Precio",-1),y={class:"field col-12 md:col-3"},P={class:"p-float-label"},w=(0,t._)("label",{for:"cantidad"},"Cantidad",-1),W={class:"field col-12 md:col-3"},k={class:"p-float-label"},h=(0,t._)("label",{for:"stock"},"Stock",-1),V={class:"field col-12 md:col-2"},D={class:"p-fluid grid"},T={class:"field col-12 md:col-8"},x={class:"mt-2"},E=(0,t._)("b",null," TOTAL ",-1),I={class:"field col-12 md:col-4"},M={key:0,class:"country-item country-item-value"},R={key:1};function O(e,o,a,O,N,H){const U=(0,t.up)("Toast"),L=(0,t.up)("InputText"),S=(0,t.up)("Button"),A=(0,t.up)("InputNumber"),B=(0,t.up)("Column"),z=(0,t.up)("DataTable"),Z=(0,t.up)("Dropdown"),j=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(U),(0,t._)("div",r,[(0,t._)("div",n,[(0,t._)("span",i,[(0,t._)("span",d,[(0,t.Wm)(L,{id:"buscar",type:"text",modelValue:O.buscar,"onUpdate:modelValue":o[0]||(o[0]=e=>O.buscar=e)},null,8,["modelValue"]),u]),(0,t.wy)((0,t.Wm)(S,{icon:"pi pi-search",class:"p-button-primary",onClick:o[1]||(o[1]=e=>O.buscarProduco())},null,512),[[j,"Buscar Producto",void 0,{top:!0}]])])]),(0,t._)("div",c,[(0,t._)("span",s,[(0,t.Wm)(L,{id:"producto",type:"text",modelValue:O.datosProducto.producto,"onUpdate:modelValue":o[2]||(o[2]=e=>O.datosProducto.producto=e),disabled:""},null,8,["modelValue"]),p])]),(0,t._)("div",m,[(0,t._)("span",v,[(0,t.Wm)(L,{id:"categoria",type:"text",modelValue:O.datosProducto.categoria,"onUpdate:modelValue":o[3]||(o[3]=e=>O.datosProducto.categoria=e),disabled:""},null,8,["modelValue"]),f])])]),(0,t._)("div",b,[(0,t._)("div",_,[(0,t._)("span",g,[(0,t.Wm)(A,{id:"precio",type:"text",mode:"currency",currency:"BOB",locale:"es-BO",modelValue:O.datosProducto.precio,"onUpdate:modelValue":o[4]||(o[4]=e=>O.datosProducto.precio=e),disabled:""},null,8,["modelValue"]),C])]),(0,t._)("div",y,[(0,t._)("span",P,[(0,t.Wm)(L,{id:"cantidad",type:"number",modelValue:O.datosProducto.cantidad,"onUpdate:modelValue":o[5]||(o[5]=e=>O.datosProducto.cantidad=e)},null,8,["modelValue"]),w])]),(0,t._)("div",W,[(0,t._)("span",k,[(0,t.Wm)(A,{id:"stock",type:"text",modelValue:O.datosProducto.stock,"onUpdate:modelValue":o[6]||(o[6]=e=>O.datosProducto.stock=e),disabled:""},null,8,["modelValue"]),h])]),(0,t._)("div",V,[(0,t.wy)((0,t.Wm)(S,{class:"p-button-secondary",label:"ACEPTAR",onClick:o[7]||(o[7]=e=>O.llenarDetalle())},null,512),[[j,"Llenar Carrito",void 0,{top:!0}]])])]),(0,t._)("div",D,[(0,t._)("div",T,[(0,t.Wm)(z,{value:O.arrayDetalle,responsiveLayout:"scroll",class:"p-datatable-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(B,{header:"#"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(e.index+1),1)])),_:1}),(0,t.Wm)(B,{field:"Producto",header:"PRODUCTO"}),(0,t.Wm)(B,{header:"PRECIO",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(O.formatCurrency(e.data.Precio)),1)])),_:1}),(0,t.Wm)(B,{field:"Cantidad",header:"CANTIDAD",class:"text-right"}),(0,t.Wm)(B,{header:"SUB TOTAL",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(O.formatCurrency(e.data.Sub_Total)),1)])),_:1}),(0,t.Wm)(B,{exportable:!1,style:{"min-width":"8rem"},header:"ACCIONES",class:"text-left"},{body:(0,t.w5)((e=>[(0,t.Wm)(S,{title:"Eliminar",icon:"pi pi-times",class:"p-button-rounded p-button-danger mr-2",onClick:o=>O.eliminar(e.index)},null,8,["onClick"])])),_:1})])),_:1},8,["value"]),(0,t._)("div",x,[(0,t._)("label",null,[E,(0,t.Uk)(" "+(0,l.zw)(O.formatCurrency(O.total_compra)),1)])])]),(0,t._)("div",I,[(0,t.Wm)(Z,{modelValue:O.datosProveedor,"onUpdate:modelValue":o[8]||(o[8]=e=>O.datosProveedor=e),options:O.listaProveedor,optionLabel:"Nombre_Razon_Social_Proveedor",filter:!0,placeholder:"Seleccione Proveedor",showClear:!0,class:"mb-3"},{value:(0,t.w5)((e=>[e.value?((0,t.wg)(),(0,t.iD)("div",M,[(0,t._)("div",null,(0,l.zw)(e.value.Nombre_Razon_Social_Proveedor),1)])):((0,t.wg)(),(0,t.iD)("span",R,(0,l.zw)(e.placeholder),1))])),_:1},8,["modelValue","options"]),(0,t.wy)((0,t.Wm)(S,{class:"p-button-success",label:"GUARDAR",onClick:o[9]||(o[9]=e=>O.guardar())},null,512),[[j,"Guardar Compra",void 0,{top:!0}]])])])],64)}var N=a(4884),H=a(3856),U=a(8326),L=a(5521),S=a(3435),A=a(4870),B=a(710),z={setup(){const e=(0,A.iH)([]),o=(0,A.iH)(),a=(0,A.iH)(0),l=(0,A.iH)(""),r=(0,S.p)(),n=(0,A.iH)({}),i=(0,A.iH)([]),d=e=>e.toLocaleString("es-BO",{style:"currency",currency:"BOB"});function u(){L.c1().then((e=>{0==e.data.length&&(f("error","Error","Debe de abrir Caja"),setTimeout((()=>{B.Z.go(-1)}),2e3))}))}function c(){N.RY().then((o=>{e.value=o.data}))}function s(){H.Zb(l.value).then((e=>{n.value.id=e.data[0].ID_Producto,n.value.stock=e.data[0].Stock,n.value.precio=e.data[0].Precio_Compra_P,n.value.producto=e.data[0].Nombre_Producto,n.value.categoria=e.data[0].Categoria}))}function p(){n.value.id&&n.value.cantidad?(i.value.push({ID:n.value.id,Precio:n.value.precio,Producto:n.value.producto,Cantidad:n.value.cantidad,Sub_Total:n.value.precio*n.value.cantidad}),a.value=a.value+n.value.precio*n.value.cantidad,n.value={},l.value=""):f("error","Error","Debe llenar todos los campos")}function m(e){a.value=a.value-i.value[e].Sub_Total,i.value.splice(e,1)}function v(){U.lf(o.value,i.value,a.value).then((e=>{422==e?f("error","Error","Debe llenar todos los campos"):(f("success","Éxito","Guardado Correctamente"),setTimeout((()=>{B.Z.go(-1)}),2e3))}))}function f(e,o,a){r.add({severity:e,summary:o,detail:a,life:3e3})}return(0,t.bv)((()=>{c(),u()})),{listaProveedor:e,datosProveedor:o,datosProducto:n,arrayDetalle:i,total_compra:a,buscar:l,toast:r,formatCurrency:d,llenarDetalle:p,buscarProduco:s,eliminar:m,guardar:v}}},Z=a(89);const j=(0,Z.Z)(z,[["render",O]]);var Y=j},4536:function(e,o,a){a.r(o),a.d(o,{default:function(){return L}});var t=a(3396);const l={class:"p-fluid grid my-4"},r={class:"field col-12 md:col-4"},n={class:"p-float-label"},i=(0,t._)("label",{for:"producto"},"Producto",-1),d={class:"field col-12 md:col-4"},u={class:"p-float-label"},c=(0,t._)("label",{for:"compra"},"Precio Compra",-1),s={class:"field col-12 md:col-4"},p={class:"p-float-label"},m=(0,t._)("label",{for:"venta"},"Precio Venta",-1),v={class:"p-fluid grid"},f={class:"field col-12 md:col-4"},b={class:"p-float-label"},_=(0,t._)("label",{for:"ingreso"},"Ingreso",-1),g={class:"field col-12 md:col-4"},C={class:"p-float-label"},y=(0,t._)("label",{for:"textarea"},"Categoria",-1),P={class:"field col-12 md:col-4"},w={class:"p-float-label"},W=(0,t._)("label",{for:"minimo"},"Stock Mínimo",-1),k={class:"p-fluid grid my-2"},h={class:"field col-12 md:col-8"},V={class:"p-float-label"},D=(0,t._)("label",{for:"textarea"},"Descripción",-1);function T(e,o,a,T,x,E){const I=(0,t.up)("Toast"),M=(0,t.up)("InputText"),R=(0,t.up)("InputNumber"),O=(0,t.up)("Dropdown"),N=(0,t.up)("Textarea"),H=(0,t.up)("Button");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(I),(0,t._)("div",l,[(0,t._)("div",r,[(0,t._)("span",n,[(0,t.Wm)(M,{id:"producto",type:"text",modelValue:T.datosProducto.nombre,"onUpdate:modelValue":o[0]||(o[0]=e=>T.datosProducto.nombre=e)},null,8,["modelValue"]),i])]),(0,t._)("div",d,[(0,t._)("span",u,[(0,t.Wm)(R,{id:"compra",type:"text",mode:"currency",currency:"BOB",locale:"es-BO",modelValue:T.datosProducto.compra,"onUpdate:modelValue":o[1]||(o[1]=e=>T.datosProducto.compra=e)},null,8,["modelValue"]),c])]),(0,t._)("div",s,[(0,t._)("span",p,[(0,t.Wm)(R,{id:"venta",type:"text",mode:"currency",currency:"BOB",locale:"es-BO",modelValue:T.datosProducto.venta,"onUpdate:modelValue":o[2]||(o[2]=e=>T.datosProducto.venta=e)},null,8,["modelValue"]),m])])]),(0,t._)("div",v,[(0,t._)("div",f,[(0,t._)("span",b,[(0,t.Wm)(R,{id:"ingreso",type:"text",modelValue:T.datosProducto.ingreso,"onUpdate:modelValue":o[3]||(o[3]=e=>T.datosProducto.ingreso=e)},null,8,["modelValue"]),_])]),(0,t._)("div",g,[(0,t._)("span",C,[(0,t.Wm)(O,{modelValue:T.datosProducto.categoria,"onUpdate:modelValue":o[4]||(o[4]=e=>T.datosProducto.categoria=e),optionValue:"ID_Categoria",options:T.arrayCategoriaSelect,optionLabel:"Nombre_Categoria"},null,8,["modelValue","options"]),y])]),(0,t._)("div",P,[(0,t._)("span",w,[(0,t.Wm)(R,{id:"minimo",modelValue:T.datosProducto.minimo,"onUpdate:modelValue":o[5]||(o[5]=e=>T.datosProducto.minimo=e)},null,8,["modelValue"]),W])])]),(0,t._)("div",k,[(0,t._)("div",h,[(0,t._)("span",V,[(0,t.Wm)(N,{id:"textarea",rows:"5",modelValue:T.datosProducto.descripcion,"onUpdate:modelValue":o[6]||(o[6]=e=>T.datosProducto.descripcion=e)},null,8,["modelValue"]),D])])]),(0,t.Wm)(H,{label:"Cerrar",icon:"pi pi-times",class:"p-button-danger p-button-text",onClick:T.cerrar,title:"Cerrar"},null,8,["onClick"]),(0,t.Wm)(H,{label:"Guardar",icon:"pi pi-folder",class:"p-button-primary p-button-text",onClick:T.editar,title:"Guardar"},null,8,["onClick"])],64)}var x=a(4239),E=a(710),I=a(4870),M=a(3435),R=a(3856),O=a(3606),N={setup(){const e=(0,M.p)(),o=(0,I.iH)(),a=(0,I.iH)({});function l(o,a,t){e.add({severity:o,summary:a,detail:t,life:3e3})}function r(){O.RY().then((e=>{o.value=e.data}))}function n(){x.Z.dispatch("limpiarProducto"),E.Z.push("/producto")}function i(){R.Wp(a.value).then((e=>{422==e?l("error","Error","Debe llenar todos los campos"):(l("success","Éxito","Actualizado Correctamente"),setTimeout((()=>{x.Z.dispatch("limpiarProducto"),E.Z.push("/producto")}),2e3))}))}return(0,t.bv)((()=>{0==x.Z.state.id?E.Z.go(-1):(r(),a.value.id=x.Z.state.id,a.value.venta=x.Z.state.venta,a.value.nombre=x.Z.state.nombre,a.value.minimo=x.Z.state.minimo,a.value.compra=x.Z.state.compra,a.value.ingreso=x.Z.state.ingreso,a.value.categoria=x.Z.state.categoria,a.value.descripcion=x.Z.state.descripcion)})),{toast:e,cerrar:n,editar:i,datosProducto:a,arrayCategoriaSelect:o}}},H=a(89);const U=(0,H.Z)(N,[["render",T]]);var L=U},8761:function(e,o,a){a.r(o),a.d(o,{default:function(){return h}});var t=a(3396),l=a(7139);const r={class:"p-fluid"},n={class:"col-12 md:col-12"},i={class:"p-inputgroup"},d=["src"],u={key:0,style:{color:"darkgreen"}},c=(0,t._)("b",null," Activo ",-1),s=[c],p={key:1,style:{color:"crimson"}},m=(0,t._)("b",null," Inactivo ",-1),v=[m];function f(e,o,a,c,m,f){const b=(0,t.up)("Toast"),_=(0,t.up)("ConfirmDialog"),g=(0,t.up)("Button"),C=(0,t.up)("InputText"),y=(0,t.up)("Toolbar"),P=(0,t.up)("Column"),w=(0,t.up)("DataTable"),W=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(b),(0,t.Wm)(_),(0,t.Wm)(y,{class:"mb-4"},{start:(0,t.w5)((()=>[(0,t.Wm)(g,{label:"Nuevo Producto",icon:"pi pi-external-link",onClick:o[0]||(o[0]=o=>e.$router.push("/producto/nuevo"))})])),end:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t._)("div",n,[(0,t._)("div",i,[(0,t.Wm)(C,{placeholder:"filtrar por nombre...",modelValue:c.filters,"onUpdate:modelValue":o[1]||(o[1]=e=>c.filters=e)},null,8,["modelValue"]),(0,t.wy)((0,t.Wm)(g,{icon:"pi pi-search",class:"p-button-primary p-button-outlined",onClick:o[2]||(o[2]=e=>c.listar())},null,512),[[W,"Filtrar Productos",void 0,{top:!0}]])])])])])),_:1}),(0,t.Wm)(w,{value:c.arrayProducto,responsiveLayout:"scroll",class:"p-datatable-sm",ref:"dt",lazy:!0,rows:10,paginator:!0,loading:c.loading,totalRecords:c.totalRecords,onPage:o[3]||(o[3]=e=>c.onPage(e)),rowsPerPageOptions:[5,10,20,50,100],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"Mostrando del {first} al {last} de {totalRecords} Productos"},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{field:"ID_Producto",header:"#",class:"text-right"}),(0,t.Wm)(P,{field:"Nombre_Producto",header:"NOMBRE"}),(0,t.Wm)(P,{field:"Descripcion_Producto",header:"DESCRIPCIÓN"}),(0,t.Wm)(P,{header:"PRECIO",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(c.formatCurrency(e.data.Precio_Venta_P)),1)])),_:1}),(0,t.Wm)(P,{field:"Stock",header:"STOCK",class:"text-right"}),(0,t.Wm)(P,{field:"Categoria",header:"CATEGORIA"}),(0,t.Wm)(P,{header:"IMAGEN"},{body:(0,t.w5)((e=>[(0,t._)("img",{src:e.data.Foto_Producto,class:"product-image",style:{width:"150px",display:"block"}},null,8,d)])),_:1}),(0,t.Wm)(P,{header:"ESTADO"},{body:(0,t.w5)((e=>[e.data.Estado_Producto?((0,t.wg)(),(0,t.iD)("span",u,s)):((0,t.wg)(),(0,t.iD)("span",p,v))])),_:1}),(0,t.Wm)(P,{exportable:!1,style:{"min-width":"8rem"},header:"ACCIONES"},{body:(0,t.w5)((e=>[(0,t.wy)((0,t.Wm)(g,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:o=>c.cargarObjeto(e.data)},null,8,["onClick"]),[[W,"Editar Producto",void 0,{top:!0}]]),e.data.Estado_Producto?(0,t.wy)(((0,t.wg)(),(0,t.j4)(g,{key:0,icon:"pi pi-lock",class:"p-button-rounded p-button-danger mr-2",onClick:o=>c.confirmar(e.data)},null,8,["onClick"])),[[W,"Desactivar Producto",void 0,{top:!0}]]):(0,t.wy)(((0,t.wg)(),(0,t.j4)(g,{key:1,icon:"pi pi-lock-open",class:"p-button-rounded p-button-primary",onClick:o=>c.confirmar(e.data)},null,8,["onClick"])),[[W,"Activar Producto",void 0,{top:!0}]])])),_:1})])),_:1},8,["value","loading","totalRecords"])],64)}var b=a(3856),_=a(7046),g=a(3435),C=a(4870),y=a(710),P=a(4239),w={setup(){const e=(0,C.iH)(),o=(0,C.iH)(""),a=(0,C.iH)(!1),l=(0,C.iH)(),r=(0,C.iH)(0),n=e=>{l.value=e,p()},i=(0,g.p)(),d=(0,_.N)(),u=(0,C.iH)(),c=(0,C.iH)({}),s=e=>{let o=1==e.Estado_Producto?"Desactivar producto":"Activar producto",a=1==e.Estado_Producto?"pi pi-info-circle":"pi pi-exclamation-triangle",t=1==e.Estado_Producto?"p-button-danger":"p-button-primary",l=1==e.Estado_Producto?"Producto desactivado":"Producto activado";c.value.id=e.ID_Producto,c.value.estado=e.Estado_Producto,d.require({message:"Estás seguro de continuar?",header:o,icon:a,acceptClass:t,accept:()=>{m(),i.add({severity:"info",summary:"Confirmado",detail:l,life:3e3}),d.close()},reject:()=>{i.add({severity:"error",summary:"Rechazado",detail:"Has rechazado",life:3e3}),d.close()}})};function p(){b.vR(l.value,o.value).then((e=>{a.value=!0,setTimeout((()=>{u.value=e.data.data,r.value=e.data.total,a.value=!1}),2e3)}))}function m(){b.aM(c.value).then((e=>{c.value={},p()}))}function v(e){P.Z.dispatch("cargarProducto",e),y.Z.push("/producto/editar")}(0,t.bv)((()=>{l.value={first:0,rows:e.value.rows,sortField:null,sortOrder:null,page:0},P.Z.dispatch("limpiarProducto"),p()}));const f=e=>{if(e)return e.toLocaleString("es-BO",{style:"currency",currency:"BOB"})};return{dt:e,onPage:n,filters:o,loading:a,totalRecords:r,listar:p,confirmar:s,cargarObjeto:v,arrayProducto:u,formatCurrency:f}}},W=a(89);const k=(0,W.Z)(w,[["render",f]]);var h=k},9801:function(e,o,a){a.r(o),a.d(o,{default:function(){return L}});var t=a(3396);const l={class:"p-fluid grid my-4"},r={class:"field col-12 md:col-4"},n={class:"p-float-label"},i=(0,t._)("label",{for:"producto"},"Producto",-1),d={class:"field col-12 md:col-4"},u={class:"p-float-label"},c=(0,t._)("label",{for:"compra"},"Precio Compra",-1),s={class:"field col-12 md:col-4"},p={class:"p-float-label"},m=(0,t._)("label",{for:"venta"},"Precio Venta",-1),v={class:"p-fluid grid"},f={class:"field col-12 md:col-4"},b={class:"p-float-label"},_=(0,t._)("label",{for:"ingreso"},"Ingreso",-1),g={class:"field col-12 md:col-4"},C={class:"p-float-label"},y=(0,t._)("label",{for:"minimo"},"Stock Mínimo",-1),P={class:"field col-12 md:col-4"},w={class:"p-float-label"},W=(0,t._)("label",{for:"textarea"},"Categoria",-1),k={class:"p-fluid grid my-2"},h={class:"field col-12 md:col-8"},V={class:"p-float-label"},D=(0,t._)("label",{for:"textarea"},"Descripción",-1);function T(e,o,a,T,x,E){const I=(0,t.up)("Toast"),M=(0,t.up)("InputText"),R=(0,t.up)("InputNumber"),O=(0,t.up)("Dropdown"),N=(0,t.up)("Textarea"),H=(0,t.up)("Button");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(I),(0,t._)("div",l,[(0,t._)("div",r,[(0,t._)("span",n,[(0,t.Wm)(M,{id:"producto",type:"text",modelValue:T.datosProducto.nombre,"onUpdate:modelValue":o[0]||(o[0]=e=>T.datosProducto.nombre=e)},null,8,["modelValue"]),i])]),(0,t._)("div",d,[(0,t._)("span",u,[(0,t.Wm)(R,{id:"compra",type:"text",mode:"currency",currency:"BOB",locale:"es-BO",modelValue:T.datosProducto.compra,"onUpdate:modelValue":o[1]||(o[1]=e=>T.datosProducto.compra=e)},null,8,["modelValue"]),c])]),(0,t._)("div",s,[(0,t._)("span",p,[(0,t.Wm)(R,{id:"venta",type:"text",mode:"currency",currency:"BOB",locale:"es-BO",modelValue:T.datosProducto.venta,"onUpdate:modelValue":o[2]||(o[2]=e=>T.datosProducto.venta=e)},null,8,["modelValue"]),m])])]),(0,t._)("div",v,[(0,t._)("div",f,[(0,t._)("span",b,[(0,t.Wm)(R,{id:"ingreso",type:"text",modelValue:T.datosProducto.ingreso,"onUpdate:modelValue":o[3]||(o[3]=e=>T.datosProducto.ingreso=e)},null,8,["modelValue"]),_])]),(0,t._)("div",g,[(0,t._)("span",C,[(0,t.Wm)(R,{id:"minimo",modelValue:T.datosProducto.minimo,"onUpdate:modelValue":o[4]||(o[4]=e=>T.datosProducto.minimo=e)},null,8,["modelValue"]),y])]),(0,t._)("div",P,[(0,t._)("span",w,[(0,t.Wm)(O,{modelValue:T.datosProducto.categoria,"onUpdate:modelValue":o[5]||(o[5]=e=>T.datosProducto.categoria=e),optionValue:"ID_Categoria",options:T.arrayCategoriaSelect,optionLabel:"Nombre_Categoria"},null,8,["modelValue","options"]),W])])]),(0,t._)("div",k,[(0,t._)("div",h,[(0,t._)("span",V,[(0,t.Wm)(N,{id:"textarea",rows:"5",modelValue:T.datosProducto.descripcion,"onUpdate:modelValue":o[6]||(o[6]=e=>T.datosProducto.descripcion=e)},null,8,["modelValue"]),D])])]),(0,t.Wm)(H,{label:"Cerrar",icon:"pi pi-times",class:"p-button-danger p-button-text",onClick:o[7]||(o[7]=o=>e.$router.go(-1)),title:"Cerrar"}),(0,t.Wm)(H,{label:"Guardar",icon:"pi pi-folder",class:"p-button-primary p-button-text",onClick:T.guardar,title:"Guardar"},null,8,["onClick"])],64)}var x=a(4239),E=a(710),I=a(4870),M=a(3435),R=a(3856),O=a(3606),N={setup(){const e=(0,M.p)(),o=(0,I.iH)(),a=(0,I.iH)({});function l(o,a,t){e.add({severity:o,summary:a,detail:t,life:3e3})}function r(){R.lf(a.value).then((e=>{422==e?l("error","Error","Debe llenar todos los campos"):(l("success","Éxito","Guardado Correctamente"),setTimeout((()=>{E.Z.push("/producto")}),2e3))}))}function n(){O.RY().then((e=>{o.value=e.data}))}return(0,t.bv)((()=>{x.Z.dispatch("limpiarProducto"),n()})),{guardar:r,toast:e,datosProducto:a,arrayCategoriaSelect:o}}},H=a(89);const U=(0,H.Z)(N,[["render",T]]);var L=U},986:function(e,o,a){a.r(o),a.d(o,{default:function(){return c}});var t=a(3396);const l={class:"card"};function r(e,o,a,r,n,i){const d=(0,t.up)("TabMenu"),u=(0,t.up)("router-view");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t.Wm)(d,{model:r.items},null,8,["model"]),(0,t.Wm)(u)])}var n=a(4870),i={setup(){const e=(0,n.iH)([{label:"Lista",icon:"pi pi-fw pi-list",to:"/producto"},{label:"Nuevo",icon:"pi pi-fw pi-external-link",to:"/producto/nuevo"},{label:"Editar",icon:"pi pi-fw pi-pencil",to:"/producto/editar"}]);return{items:e}}},d=a(89);const u=(0,d.Z)(i,[["render",r]]);var c=u},3517:function(e,o,a){a.r(o),a.d(o,{default:function(){return de}});var t=a(3396);const l={class:"card"},r={class:"grcaja p-fluid"},n={class:"col-12 md:col-12"},i={class:"p-inputgroup"},d={key:0,style:{color:"darkgreen"}},u=(0,t._)("b",null," Activo ",-1),c=[u],s={key:1,style:{color:"crimson"}},p=(0,t._)("b",null," Inactivo ",-1),m=[p];function v(e,o,a,u,p,v){const f=(0,t.up)("Toast"),b=(0,t.up)("ConfirmDialog"),_=(0,t.up)("ModalNuevo"),g=(0,t.up)("InputText"),C=(0,t.up)("Button"),y=(0,t.up)("Toolbar"),P=(0,t.up)("Column"),w=(0,t.up)("ModalEditar"),W=(0,t.up)("ModalEliminar"),k=(0,t.up)("DataTable"),h=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t.Wm)(f),(0,t.Wm)(b),(0,t.Wm)(y,{class:"mb-4"},{start:(0,t.w5)((()=>[(0,t.Wm)(_,{listar:u.listar},null,8,["listar"])])),end:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t._)("div",n,[(0,t._)("div",i,[(0,t.Wm)(g,{placeholder:"filtrar por nombre...",modelValue:u.filters,"onUpdate:modelValue":o[0]||(o[0]=e=>u.filters=e)},null,8,["modelValue"]),(0,t.wy)((0,t.Wm)(C,{icon:"pi pi-search",class:"p-button-primary p-button-outlined",onClick:o[1]||(o[1]=e=>u.listar())},null,512),[[h,"Filtrar proveedores",void 0,{top:!0}]])])])])])),_:1}),(0,t.Wm)(k,{value:u.arrayProveedor,responsiveLayout:"scroll",class:"p-datatable-sm",ref:"dt",lazy:!0,rows:10,paginator:!0,loading:u.loading,totalRecords:u.totalRecords,onPage:o[2]||(o[2]=e=>u.onPage(e)),rowsPerPageOptions:[5,10,20,50,100],paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"Mostrando del {first} al {last} de {totalRecords} Proveedores"},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{field:"ID_Proveedor",header:"#",class:"text-right"}),(0,t.Wm)(P,{field:"Nombre_Razon_Social_Proveedor",header:"RAZÓN SOCIAL"}),(0,t.Wm)(P,{field:"CI_NIT_Proveedor",header:"CI / NIT",class:"text-right"}),(0,t.Wm)(P,{field:"Telefono_Proveedor",header:"TELEFONO",class:"text-right"}),(0,t.Wm)(P,{field:"Correo_Proveedor",header:"CORREO"}),(0,t.Wm)(P,{header:"ESTADO"},{body:(0,t.w5)((e=>[e.data.Estado_Proveedor?((0,t.wg)(),(0,t.iD)("span",d,c)):((0,t.wg)(),(0,t.iD)("span",s,m))])),_:1}),(0,t.Wm)(P,{exportable:!1,style:{"min-width":"8rem"},header:"ACCIONES"},{body:(0,t.w5)((e=>[(0,t.Wm)(w,{onListar:u.listar,proveedor:e.data},null,8,["onListar","proveedor"]),(0,t.Wm)(W,{onListar:u.listar,proveedor:e.data},null,8,["onListar","proveedor"])])),_:1})])),_:1},8,["value","loading","totalRecords"])])}function f(e,o,a,l,r,n){const i=(0,t.up)("Toast"),d=(0,t.up)("ConfirmDialog"),u=(0,t.up)("Button");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(i),(0,t.Wm)(d),1==l.datosProveedor.estado?((0,t.wg)(),(0,t.j4)(u,{key:0,title:"Desactivar",icon:"pi pi-lock",class:"p-button-rounded p-button-danger mr-2",onClick:o[0]||(o[0]=e=>l.confirmar())})):((0,t.wg)(),(0,t.j4)(u,{key:1,icon:"pi pi-lock-open",title:"Activar",class:"p-button-rounded p-button-primary",onClick:o[1]||(o[1]=e=>l.confirmar())}))],64)}var b=a(4884),_=a(7046),g=a(3435),C=a(4870),y={name:"ModalEliminar",emits:["listar"],props:{proveedor:{type:Object}},setup(e,{emit:o}){const a=(0,g.p)(),t=(0,_.N)(),l=(0,C.iH)({id:e.proveedor.ID_Proveedor,estado:e.proveedor.Estado_Proveedor}),r=()=>{let o=1==e.proveedor.Estado_Proveedor?"Desactivar Proveedor":"Activar Proveedor",l=1==e.proveedor.Estado_Proveedor?"pi pi-info-circle":"pi pi-exclamation-triangle",r=1==e.proveedor.Estado_Proveedor?"p-button-danger":"p-button-primary",i=1==e.proveedor.Estado_Proveedor?"Proveedor desactivado":"Proveedor activado";t.require({message:"Estás seguro de continuar?",header:o,icon:l,acceptClass:r,accept:()=>{n(),a.add({severity:"info",summary:"Confirmado",detail:i,life:3e3}),t.close()},reject:()=>{a.add({severity:"error",summary:"Rechazado",detail:"Has rechazado",life:3e3}),t.close()}})};function n(){b.aM(l.value).then((e=>{o("listar"),l.value.estado=e.data.Estado_Proveedor}))}return{eliminar:n,confirmar:r,datosProveedor:l}}},P=a(89);const w=(0,P.Z)(y,[["render",f]]);var W=w;const k={class:"p-fluid grid p-4"},h={class:"field col-12 md:col-6"},V={class:"p-float-label"},D=(0,t._)("label",{for:"nombre",autofocus:""},"Nombre o Razón Social",-1),T={class:"field col-12 md:col-6"},x={class:"p-float-label"},E=(0,t._)("label",{for:"ci_nit",autofocus:""},"CI / NIT",-1),I={class:"p-fluid grid p-4"},M={class:"field col-12 md:col-6"},R={class:"p-float-label"},O=(0,t._)("label",{for:"telefono",autofocus:""},"Telefono",-1),N={class:"field col-12 md:col-6"},H={class:"p-float-label"},U=(0,t._)("label",{for:"correo",autofocus:""},"Correo",-1);function L(e,o,a,l,r,n){const i=(0,t.up)("Toast"),d=(0,t.up)("Button"),u=(0,t.up)("InputText"),c=(0,t.up)("Dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(i),(0,t.Wm)(d,{icon:"pi pi-pencil",title:"Editar",class:"p-button-rounded p-button-success mr-2",onClick:l.abrirModal},null,8,["onClick"]),(0,t.Wm)(c,{header:"Actualizar Cliente",visible:l.proveedorModal,"onUpdate:visible":o[4]||(o[4]=e=>l.proveedorModal=e),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"},modal:!0},{footer:(0,t.w5)((()=>[(0,t.Wm)(d,{label:"Cerrar",icon:"pi pi-times",class:"p-button-danger p-button-text",onClick:l.cerrarModal},null,8,["onClick"]),(0,t.Wm)(d,{label:"Guardar",icon:"pi pi-check",class:"p-button-primary p-button-text",onClick:l.editar},null,8,["onClick"])])),default:(0,t.w5)((()=>[(0,t._)("div",k,[(0,t._)("div",h,[(0,t._)("span",V,[(0,t.Wm)(u,{id:"nombre",type:"text",modelValue:l.datosProveedor.nombre,"onUpdate:modelValue":o[0]||(o[0]=e=>l.datosProveedor.nombre=e)},null,8,["modelValue"]),D])]),(0,t._)("div",T,[(0,t._)("span",x,[(0,t.Wm)(u,{id:"ci_nit",type:"number",modelValue:l.datosProveedor.ci_nit,"onUpdate:modelValue":o[1]||(o[1]=e=>l.datosProveedor.ci_nit=e)},null,8,["modelValue"]),E])])]),(0,t._)("div",I,[(0,t._)("div",M,[(0,t._)("span",R,[(0,t.Wm)(u,{id:"telefono",type:"number",modelValue:l.datosProveedor.telefono,"onUpdate:modelValue":o[2]||(o[2]=e=>l.datosProveedor.telefono=e)},null,8,["modelValue"]),O])]),(0,t._)("div",N,[(0,t._)("span",H,[(0,t.Wm)(u,{id:"correo",type:"text",modelValue:l.datosProveedor.correo,"onUpdate:modelValue":o[3]||(o[3]=e=>l.datosProveedor.correo=e)},null,8,["modelValue"]),U])])])])),_:1},8,["visible"])],64)}var S={name:"ModalEditar",emits:["listar"],props:{proveedor:{type:Object}},setup(e,{emit:o}){const a=(0,g.p)(),t=(0,C.iH)({id:e.proveedor.ID_Proveedor,ci_nit:e.proveedor.CI_NIT_Proveedor,correo:e.proveedor.Correo_Proveedor,telefono:e.proveedor.Telefono_Proveedor,nombre:e.proveedor.Nombre_Razon_Social_Proveedor}),l=(0,C.iH)(!1),r=()=>{l.value=!0},n=()=>{l.value=!1};function i(e,o,t){a.add({severity:e,summary:o,detail:t,life:3e3})}function d(){b.Wp(t.value).then((e=>{422==e?i("error","Error","Campos vacíos o correo no válido"):(i("success","Éxito","Actualizado Correctamente"),setTimeout((()=>{n(),o("listar")}),2e3))}))}return{editar:d,datosProveedor:t,abrirModal:r,cerrarModal:n,proveedorModal:l}}};const A=(0,P.Z)(S,[["render",L]]);var B=A;const z={class:"p-fluid grid p-4"},Z={class:"field col-12 md:col-6"},j={class:"p-float-label"},Y=(0,t._)("label",{for:"nombre",autofocus:""},"Nombre o Razón Social",-1),F={class:"field col-12 md:col-6"},G={class:"p-float-label"},q=(0,t._)("label",{for:"ci_nit",autofocus:""},"CI / NIT",-1),Q={class:"p-fluid grid p-4"},$={class:"field col-12 md:col-6"},K={class:"p-float-label"},J=(0,t._)("label",{for:"telefono",autofocus:""},"Telefono",-1),X={class:"field col-12 md:col-6"},ee={class:"p-float-label"},oe=(0,t._)("label",{for:"correo",autofocus:""},"Correo",-1);function ae(e,o,a,l,r,n){const i=(0,t.up)("Toast"),d=(0,t.up)("Button"),u=(0,t.up)("InputText"),c=(0,t.up)("Dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(i),(0,t.Wm)(d,{label:"Nuevo Proveedor",icon:"pi pi-external-link",onClick:l.abrirModal},null,8,["onClick"]),(0,t.Wm)(c,{header:"Nuevo Proveedor",visible:l.proveedorModal,"onUpdate:visible":o[4]||(o[4]=e=>l.proveedorModal=e),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"},modal:!0},{footer:(0,t.w5)((()=>[(0,t.Wm)(d,{label:"Cerrar",icon:"pi pi-times",onClick:l.cerrarModal,class:"p-button-danger p-button-text"},null,8,["onClick"]),(0,t.Wm)(d,{label:"Guardar",icon:"pi pi-check",class:"p-button-primary p-button-text",onClick:l.guardar},null,8,["onClick"])])),default:(0,t.w5)((()=>[(0,t._)("div",z,[(0,t._)("div",Z,[(0,t._)("span",j,[(0,t.Wm)(u,{id:"nombre",type:"text",modelValue:l.datosProveedor.nombre,"onUpdate:modelValue":o[0]||(o[0]=e=>l.datosProveedor.nombre=e)},null,8,["modelValue"]),Y])]),(0,t._)("div",F,[(0,t._)("span",G,[(0,t.Wm)(u,{id:"ci_nit",type:"number",modelValue:l.datosProveedor.ci_nit,"onUpdate:modelValue":o[1]||(o[1]=e=>l.datosProveedor.ci_nit=e)},null,8,["modelValue"]),q])])]),(0,t._)("div",Q,[(0,t._)("div",$,[(0,t._)("span",K,[(0,t.Wm)(u,{id:"telefono",type:"number",modelValue:l.datosProveedor.telefono,"onUpdate:modelValue":o[2]||(o[2]=e=>l.datosProveedor.telefono=e)},null,8,["modelValue"]),J])]),(0,t._)("div",X,[(0,t._)("span",ee,[(0,t.Wm)(u,{id:"correo",type:"text",modelValue:l.datosProveedor.correo,"onUpdate:modelValue":o[3]||(o[3]=e=>l.datosProveedor.correo=e)},null,8,["modelValue"]),oe])])])])),_:1},8,["visible"])],64)}var te={name:"ModalNuevo",props:{listar:{type:Function}},setup(e){const o=(0,g.p)(),a=(0,C.iH)({}),t=(0,C.iH)(!1),l=()=>{t.value=!0},r=()=>{t.value=!1};function n(e,a,t){o.add({severity:e,summary:a,detail:t,life:3e3})}function i(){b.lf(a.value).then((o=>{422==o?n("error","Error","Campos vacíos o correo no válido"):(n("success","Éxito","Guardado Correctamente"),setTimeout((()=>{a.value={},r(),e.listar()}),2e3))}))}return{guardar:i,abrirModal:l,cerrarModal:r,proveedorModal:t,datosProveedor:a}}};const le=(0,P.Z)(te,[["render",ae]]);var re=le,ne={components:{ModalEliminar:W,ModalEditar:B,ModalNuevo:re},setup(){const e=(0,C.iH)(),o=(0,C.iH)(""),a=(0,C.iH)(!1),l=(0,C.iH)(),r=(0,C.iH)(0),n=e=>{l.value=e,d()},i=(0,C.iH)();function d(){b.vR(l.value,o.value).then((e=>{a.value=!0,setTimeout((()=>{i.value=e.data.data,r.value=e.data.total,a.value=!1}),2e3)}))}return(0,t.bv)((()=>{l.value={first:0,rows:e.value.rows,sortField:null,sortOrder:null,page:0},d()})),{dt:e,onPage:n,filters:o,loading:a,totalRecords:r,listar:d,arrayProveedor:i}}};const ie=(0,P.Z)(ne,[["render",v]]);var de=ie},8103:function(e,o,a){a.r(o),a.d(o,{default:function(){return W}});var t=a(3396),l=a(7139);const r={key:0,style:{color:"darkgreen"}},n=(0,t._)("b",null," Activo ",-1),i=[n],d={key:1,style:{color:"crimson"}},u=(0,t._)("b",null," Inactivo ",-1),c=[u];function s(e,o,a,n,u,s){const p=(0,t.up)("Toast"),m=(0,t.up)("ConfirmDialog"),v=(0,t.up)("Button"),f=(0,t.up)("Toolbar"),b=(0,t.up)("Column"),_=(0,t.up)("ModalDetalle"),g=(0,t.up)("DataTable");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(p),(0,t.Wm)(m),(0,t.Wm)(f,{class:"mb-4"},{start:(0,t.w5)((()=>[(0,t.Wm)(v,{label:"Nueva Venta",icon:"pi pi-external-link",onClick:o[0]||(o[0]=o=>e.$router.push("/venta/nuevo"))})])),_:1}),(0,t.Wm)(g,{value:n.arrayVenta,responsiveLayout:"scroll",class:"p-datatable-sm",style:{"white-space":"nowrap"},ref:"dt",lazy:!0,rows:10,paginator:!0,loading:n.loading,totalRecords:n.totalRecords,onPage:o[1]||(o[1]=e=>n.onPage(e)),paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",rowsPerPageOptions:[5,10,20,50,100],currentPageReportTemplate:"Mostrando del {first} al {last} de {totalRecords} Ventas"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{field:"ID_Venta",header:"#",class:"text-right"}),(0,t.Wm)(b,{header:"FECHA",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(n.formatDate(e.data.Fecha_Venta)),1)])),_:1}),(0,t.Wm)(b,{header:"MONTO",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(n.formatCurrency(e.data.Monto_Total_Venta)),1)])),_:1}),(0,t.Wm)(b,{field:"Cliente",header:"CLIENTE"}),(0,t.Wm)(b,{field:"Empleado",header:"EMPLEADO"}),(0,t.Wm)(b,{header:"ESTADO"},{body:(0,t.w5)((e=>[e.data.Estado_Venta?((0,t.wg)(),(0,t.iD)("span",r,i)):((0,t.wg)(),(0,t.iD)("span",d,c))])),_:1}),(0,t.Wm)(b,{exportable:!1,style:{"min-width":"8rem"},header:"ACCIONES"},{body:(0,t.w5)((e=>[(0,t.Wm)(_,{venta:e.data.ID_Venta},null,8,["venta"]),(0,t.Wm)(v,{icon:"pi pi-print",title:"Imprimir Venta",class:"p-button-rounded p-button-secondary mr-2 ml-2"}),e.data.Estado_Venta?((0,t.wg)(),(0,t.j4)(v,{key:0,title:"Desactivar",icon:"pi pi-lock",class:"p-button-rounded p-button-danger"})):(0,t.kq)("",!0)])),_:1})])),_:1},8,["value","loading","totalRecords"])],64)}function p(e,o,a,r,n,i){const d=(0,t.up)("Button"),u=(0,t.up)("Column"),c=(0,t.up)("DataTable"),s=(0,t.up)("Dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(d,{icon:"pi pi-eye",title:"Ver Detalle",class:"p-button-rounded p-button-info",onClick:r.abrirModal},null,8,["onClick"]),(0,t.Wm)(s,{header:"DETALLES DE VENTA",visible:r.detalleVentaModal,"onUpdate:visible":o[0]||(o[0]=e=>r.detalleVentaModal=e),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"50vw"},modal:!0},{footer:(0,t.w5)((()=>[(0,t.Wm)(d,{label:"Ok",icon:"pi pi-check",class:"p-button-primary p-button-text",onClick:r.cerrarModal},null,8,["onClick"])])),default:(0,t.w5)((()=>[(0,t.Wm)(c,{value:r.arrayDetalle,responsiveLayout:"scroll"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{field:"Producto",header:"PRODUCTO"}),(0,t.Wm)(u,{header:"PRECIO",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(r.formatCurrency(e.data.Precio_Venta)),1)])),_:1}),(0,t.Wm)(u,{field:"Cantidad_Venta",header:"CANTIDAD",class:"text-right"}),(0,t.Wm)(u,{header:"SUB TOTAL",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(r.formatCurrency(e.data.Monto_Parcial_Venta)),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["visible"])],64)}var m=a(9871),v=a(4870),f={name:"ModalDetalle",props:{venta:{type:Number}},setup(e){const o=(0,v.iH)([]),a=(0,v.iH)(e.venta),l=(0,v.iH)(!1),r=()=>{l.value=!0},n=()=>{l.value=!1};function i(){m.hM(a.value).then((e=>{o.value=e.data}))}(0,t.bv)((()=>{i()}));const d=e=>{if(e)return e.toLocaleString("es-BO",{style:"currency",currency:"BOB"})};return{idventa:a,abrirModal:r,cerrarModal:n,arrayDetalle:o,detalleVentaModal:l,formatCurrency:d}}},b=a(89);const _=(0,b.Z)(f,[["render",p]]);var g=_,C=a(6797),y=a.n(C),P={components:{ModalDetalle:g},setup(){const e=(0,v.iH)(),o=(0,v.iH)(),a=(0,v.iH)(!1),l=(0,v.iH)(),r=(0,v.iH)(0),n=e=>{l.value=e,i()};function i(){m.vR(l.value).then((o=>{a.value=!0,setTimeout((()=>{r.value=o.data.total,e.value=o.data.data,a.value=!1}),2e3)}))}(0,t.bv)((()=>{a.value=!0,l.value={first:0,rows:o.value.rows,sortField:null,sortOrder:null,page:0},i()}));const d=e=>{if(e)return e.toLocaleString("es-BO",{style:"currency",currency:"BOB"})},u=e=>{if(e)return y()(e).format("DD/MM/YY")};return{dt:o,onPage:n,loading:a,totalRecords:r,arrayVenta:e,formatDate:u,formatCurrency:d}}};const w=(0,b.Z)(P,[["render",s]]);var W=w},6159:function(e,o,a){a.r(o),a.d(o,{default:function(){return Y}});var t=a(3396),l=a(7139);const r={class:"p-fluid grid my-4"},n={class:"field col-12 md:col-4"},i={class:"p-inputgroup"},d={class:"p-float-label"},u=(0,t._)("label",{for:"buscar"},"Nombre o Código",-1),c={class:"field col-12 md:col-4"},s={class:"p-float-label"},p=(0,t._)("label",{for:"producto"},"Producto",-1),m={class:"field col-12 md:col-4"},v={class:"p-float-label"},f=(0,t._)("label",{for:"categoria"},"Categoria",-1),b={class:"p-fluid grid"},_={class:"field col-12 md:col-4"},g={class:"p-float-label"},C=(0,t._)("label",{for:"precio"},"Precio",-1),y={class:"field col-12 md:col-3"},P={class:"p-float-label"},w=(0,t._)("label",{for:"cantidad"},"Cantidad",-1),W={class:"field col-12 md:col-3"},k={class:"p-float-label"},h=(0,t._)("label",{for:"stock"},"Stock",-1),V={class:"field col-12 md:col-2"},D={class:"p-fluid grid"},T={class:"field col-12 md:col-8"},x={class:"mt-2"},E=(0,t._)("b",null," TOTAL ",-1),I={class:"field col-12 md:col-4"},M={key:0,class:"country-item country-item-value"},R={key:1};function O(e,o,a,O,N,H){const U=(0,t.up)("Toast"),L=(0,t.up)("InputText"),S=(0,t.up)("Button"),A=(0,t.up)("InputNumber"),B=(0,t.up)("Column"),z=(0,t.up)("DataTable"),Z=(0,t.up)("Dropdown"),j=(0,t.Q2)("tooltip");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(U),(0,t._)("div",r,[(0,t._)("div",n,[(0,t._)("span",i,[(0,t._)("span",d,[(0,t.Wm)(L,{id:"buscar",type:"text",modelValue:O.buscar,"onUpdate:modelValue":o[0]||(o[0]=e=>O.buscar=e)},null,8,["modelValue"]),u]),(0,t.wy)((0,t.Wm)(S,{icon:"pi pi-search",class:"p-button-primary",onClick:o[1]||(o[1]=e=>O.buscarProduco())},null,512),[[j,"Buscar Producto",void 0,{top:!0}]])])]),(0,t._)("div",c,[(0,t._)("span",s,[(0,t.Wm)(L,{id:"producto",type:"text",modelValue:O.datosProducto.producto,"onUpdate:modelValue":o[2]||(o[2]=e=>O.datosProducto.producto=e),disabled:""},null,8,["modelValue"]),p])]),(0,t._)("div",m,[(0,t._)("span",v,[(0,t.Wm)(L,{id:"categoria",type:"text",modelValue:O.datosProducto.categoria,"onUpdate:modelValue":o[3]||(o[3]=e=>O.datosProducto.categoria=e),disabled:""},null,8,["modelValue"]),f])])]),(0,t._)("div",b,[(0,t._)("div",_,[(0,t._)("span",g,[(0,t.Wm)(A,{id:"precio",type:"text",mode:"currency",currency:"BOB",locale:"es-BO",modelValue:O.datosProducto.precio,"onUpdate:modelValue":o[4]||(o[4]=e=>O.datosProducto.precio=e),disabled:""},null,8,["modelValue"]),C])]),(0,t._)("div",y,[(0,t._)("span",P,[(0,t.Wm)(L,{id:"cantidad",type:"number",modelValue:O.datosProducto.cantidad,"onUpdate:modelValue":o[5]||(o[5]=e=>O.datosProducto.cantidad=e)},null,8,["modelValue"]),w])]),(0,t._)("div",W,[(0,t._)("span",k,[(0,t.Wm)(A,{id:"stock",type:"text",modelValue:O.datosProducto.stock,"onUpdate:modelValue":o[6]||(o[6]=e=>O.datosProducto.stock=e),disabled:""},null,8,["modelValue"]),h])]),(0,t._)("div",V,[(0,t.wy)((0,t.Wm)(S,{class:"p-button-secondary",label:"ACEPTAR",onClick:o[7]||(o[7]=e=>O.llenarDetalle())},null,512),[[j,"Llenar Carrito",void 0,{top:!0}]])])]),(0,t._)("div",D,[(0,t._)("div",T,[(0,t.Wm)(z,{value:O.arrayDetalle,responsiveLayout:"scroll",class:"p-datatable-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(B,{header:"#"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(e.index+1),1)])),_:1}),(0,t.Wm)(B,{field:"Producto",header:"PRODUCTO"}),(0,t.Wm)(B,{header:"PRECIO",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(O.formatCurrency(e.data.Precio)),1)])),_:1}),(0,t.Wm)(B,{field:"Cantidad",header:"CANTIDAD",class:"text-right"}),(0,t.Wm)(B,{header:"SUB TOTAL",class:"text-right"},{body:(0,t.w5)((e=>[(0,t.Uk)((0,l.zw)(O.formatCurrency(e.data.Sub_Total)),1)])),_:1}),(0,t.Wm)(B,{exportable:!1,style:{"min-width":"8rem"},header:"ACCIONES",class:"text-left"},{body:(0,t.w5)((e=>[(0,t.Wm)(S,{title:"Eliminar",icon:"pi pi-times",class:"p-button-rounded p-button-danger mr-2",onClick:o=>O.eliminar(e.index)},null,8,["onClick"])])),_:1})])),_:1},8,["value"]),(0,t._)("div",x,[(0,t._)("label",null,[E,(0,t.Uk)(" "+(0,l.zw)(O.formatCurrency(O.total_venta)),1)])])]),(0,t._)("div",I,[(0,t.Wm)(Z,{modelValue:O.datosCliente,"onUpdate:modelValue":o[8]||(o[8]=e=>O.datosCliente=e),options:O.listaCliente,optionLabel:"Nombre_Razon_Social_Cliente",filter:!0,placeholder:"Seleccione Cliente",showClear:!0,class:"mb-3"},{value:(0,t.w5)((e=>[e.value?((0,t.wg)(),(0,t.iD)("div",M,[(0,t._)("div",null,(0,l.zw)(e.value.Nombre_Razon_Social_Cliente),1)])):((0,t.wg)(),(0,t.iD)("span",R,(0,l.zw)(e.placeholder),1))])),_:1},8,["modelValue","options"]),(0,t.wy)((0,t.Wm)(S,{class:"p-button-success",label:"GUARDAR",onClick:o[9]||(o[9]=e=>O.guardar())},null,512),[[j,"Guardar Venta",void 0,{top:!0}]])])])],64)}var N=a(3856),H=a(4199),U=a(9871),L=a(5521),S=a(3435),A=a(4870),B=a(710),z={setup(){const e=(0,A.iH)([]),o=(0,A.iH)(),a=(0,A.iH)(0),l=(0,A.iH)(""),r=(0,S.p)(),n=(0,A.iH)({}),i=(0,A.iH)([]),d=e=>e.toLocaleString("es-BO",{style:"currency",currency:"BOB"});function u(){L.c1().then((e=>{0==e.data.length&&(f("error","Error","Debe de abrir Caja"),setTimeout((()=>{B.Z.go(-1)}),2e3))}))}function c(){H.RY().then((o=>{e.value=o.data}))}function s(){N.Zb(l.value).then((e=>{n.value.id=e.data[0].ID_Producto,n.value.stock=e.data[0].Stock,n.value.precio=e.data[0].Precio_Venta_P,n.value.producto=e.data[0].Nombre_Producto,n.value.categoria=e.data[0].Categoria}))}function p(){n.value.id&&n.value.cantidad?(i.value.push({ID:n.value.id,Precio:n.value.precio,Producto:n.value.producto,Cantidad:n.value.cantidad,Sub_Total:n.value.precio*n.value.cantidad}),a.value=a.value+n.value.precio*n.value.cantidad,n.value={},l.value=""):f("error","Error","Debe llenar todos los campos")}function m(e){a.value=a.value-i.value[e].Sub_Total,i.value.splice(e,1)}function v(){U.lf(o.value,i.value,a.value).then((e=>{422==e?f("error","Error","Debe llenar todos los campos"):(f("success","Éxito","Guardado Correctamente"),setTimeout((()=>{B.Z.push("/venta")}),2e3))}))}function f(e,o,a){r.add({severity:e,summary:o,detail:a,life:3e3})}return(0,t.bv)((()=>{c(),u()})),{listaCliente:e,datosCliente:o,datosProducto:n,arrayDetalle:i,total_venta:a,buscar:l,toast:r,formatCurrency:d,llenarDetalle:p,buscarProduco:s,eliminar:m,guardar:v}}},Z=a(89);const j=(0,Z.Z)(z,[["render",O]]);var Y=j},3944:function(e,o,a){a.r(o),a.d(o,{default:function(){return c}});var t=a(3396);const l={class:"card"};function r(e,o,a,r,n,i){const d=(0,t.up)("TabMenu"),u=(0,t.up)("router-view");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t.Wm)(d,{model:r.items},null,8,["model"]),(0,t.Wm)(u)])}var n=a(4870),i={setup(){const e=(0,n.iH)([{label:"Lista de Ventas",icon:"pi pi-fw pi-list",to:"/venta"},{label:"Nueva Venta",icon:"pi pi-fw pi-external-link",to:"/venta/nuevo"}]);return{items:e}}},d=a(89);const u=(0,d.Z)(i,[["render",r]]);var c=u}}]);
//# sourceMappingURL=producto.902b1e26.js.map